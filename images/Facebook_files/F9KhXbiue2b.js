/*!CK:1896551570!*//*1418014418,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Et9bV"]); }

__d("DateUtil",[],function(a,b,c,d,e,f){e.exports={FACEBOOK_EPOCH:1105776000};},null);
__d("GamesImageSlideshow.react",["React","Animation","cx"],function(a,b,c,d,e,f,g,h,i){var j=1500,k=250,l=g.createClass({displayName:"GamesImageSlideshow",getInitialState:function(){return {previous:0,active:0};},propTypes:{image_urls:g.PropTypes.array.isRequired,height:g.PropTypes.number.isRequired,width:g.PropTypes.number.isRequired,autoplay:g.PropTypes.bool},getDefaultProps:function(){return {autoplay:false};},componentDidMount:function(){if(this.props.autoplay)this.timeout=setTimeout(this._startSlideshow,j);},componentWillUnmount:function(){this._clearInterval();},_startSlideshow:function(){if(this.running)return;this.running=true;var m=(function(){var n=(this.state.active+1)%this.props.image_urls.length,o=this.props.image_urls[n],p=new Image(),q=(function(){if(!this.running)return;this._switchImage(n);this.interval=setTimeout(m,j);}).bind(this);p.onload=q;p.src=o;}).bind(this);m();},_switchImage:function(m){this.setState({previous:this.state.active,active:m},this._fadeImage);},_fadeImage:function(){if(this.state.active!==this.state.previous){var m=this.refs[this.state.previous].getDOMNode(),n=this.refs[this.state.active].getDOMNode();this.anims=[new h(m).from('opacity',1).to('opacity',0).duration(k).go(),new h(n).from('opacity',0).to('opacity',1).duration(k).go()];}},_clearInterval:function(){if(this.interval){clearTimeout(this.interval);this.interval=null;}},_stopSlideshow:function(){this.running=false;this._clearInterval();if(this.anims)this.anims.map(function(m){m.stop();});this._switchImage(0);},_createImage:function(m){return g.createElement("img",{ref:m,key:m,src:this.props.image_urls[m]});},_getCurrentImages:function(){var m=this.state.previous,n=this.state.active;if(m==n){return [this._createImage(m)];}else return [this._createImage(m),this._createImage(n)];},render:function(){return (g.createElement("div",{style:{height:this.props.height+'px',width:this.props.width+'px'},onMouseEnter:!this.props.autoplay?this._startSlideshow:null,onMouseLeave:!this.props.autoplay?this._stopSlideshow:null,className:"_4x1w"},this._getCurrentImages()));}});e.exports=l;},null);