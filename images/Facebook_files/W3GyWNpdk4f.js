/*!CK:3103482045!*//*1419888928,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["RmfSY"]); }

__d("StickerConstants",[],function(a,b,c,d,e,f){e.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},ActionTypes:{ADD_PACK:"ADD_PACK",REMOVE_PACK:"REMOVE_PACK",SELECT_PACK:"SELECT_PACK",RESET_NUM_NEW_PACKS:"RESET_NUM_NEW_PACKS"},EMOTICON_PACK_ID:"1471127876485636",DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120};},null);
__d("TrackingNodeTypes",[],function(a,b,c,d,e,f){e.exports={HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,UPLOAD_FILE_LINK:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,WAP_FOOTER:196,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,UNUSED:-1};},null);
__d("CLoggerX",["Banzai","DOM","debounce","Event","ge","Parent","Keys"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=10*60*1000,n=b('Keys').RETURN,o={},p=function(s){var t=(s.target||s.srcElement).id,u=(s.target||s.srcElement).value.trim().length,v=q.getTracker(t);if(!v)return;if(u>5&&!v.submitted){g.post('censorlogger',{cl_impid:v.impid,clearcounter:v.clearcounter,instrument:v.type,elementid:t,parent_fbid:(v.parent_fbid=='unknown'?null:v.parent_fbid),version:"x"},g.VITAL);q.setSubmitted(t,true);}else if(u===0&&v.submitted&&s.which!=n){o[t]=r(t);o[t]();}else if(u>0&&v.submitted)if(o[t])o[t].reset();},q={init:function(){this.trackedElements=this.trackedElements||{};this.feedbackForms=this.feedbackForms||{};},setImpressionID:function(s){this.init();this.impressionID=s;this.clean();},setComposerTargetData:function(s){this.cTargetID=s.targetID||'unknown';this.cTargetFBType=s.targetType||'unknown';},clean:function(){for(var s in this.trackedElements){if(o[s]){o[s].reset();delete o[s];}delete this.trackedElements[s];}},trackComposer:function(s,t,u){this.setComposerTargetData(u);this.startTracking(s,'composer',this.cTargetID,this.cTargetFBType,t);},trackFeedbackForm:function(s,t,u){this.init();this.impressionID=this.impressionID||u;var v,w;v=t?t.targetID||'unknown':'unknown';w=t?t.targetType||'unknown':'unknown';this.feedbackForms[s]={parent_fbid:v,parent_type:w};},trackMentionsInput:function(s,t){this.init();var u,v,w;if(!s)return;u=l.byTag(s,'form');if(!u)return;v=h.getID(u);w=this.feedbackForms[v];if(!w)return;var x=t||w.parent_fbid,y=t?416:w.parent_type;this.startTracking(s,'comment',x,y,u);},startTracking:function(s,t,u,v,w){this.init();var x=h.getID(s);if(this.getTracker(x))return;var y=h.getID(w);j.listen(s,'keyup',p.bind(this));this.trackedElements[x]={submitted:false,clearcounter:0,type:t,impid:this.impressionID,parent_fbid:u,parent_type:v,parentElID:y};this.addJoinTableInfoToForm(w,x);},getTracker:function(s){return (this.trackedElements?this.trackedElements[s]:null);},setSubmitted:function(s,t){if(this.trackedElements[s])this.trackedElements[s].submitted=t;},incrementClearCounter:function(s){var t=this.getTracker(s);if(!t)return;t.clearcounter++;t.submitted=false;var u=h.scry(k(t.parentElID),'input[name="clp"]')[0];if(u)u.value=this.getJSONRepForTrackerID(s);this.trackedElements[s]=t;},addJoinTableInfoToForm:function(s,t){var u=this.getTracker(t);if(!u)return;var v=h.scry(s,'input[name="clp"]')[0];if(!v)h.prependContent(s,h.create('input',{type:'hidden',name:'clp',value:this.getJSONRepForTrackerID(t)}));},getCLParamsForTarget:function(s,t){if(!s)return "";var u=h.getID(s);return this.getJSONRepForTrackerID(u,t);},getJSONRepForTrackerID:function(s,t){var u=this.getTracker(s);if(!u)return "";return JSON.stringify({cl_impid:u.impid,clearcounter:u.clearcounter,elementid:s,version:"x",parent_fbid:t||u.parent_fbid});}},r=function(s){return i(function(){q.incrementClearCounter(s);},m,q);};e.exports=q;},null);
__d("LiveTimer",["CSS","DOM","ServerTime","fbt"],function(a,b,c,d,e,f,g,h,i,j){var k=1000,l=60,m=3600,n=43200,o=86400,p=60,q=20000,r={restart:function(s){i.update(s*1000);this.updateTimeStamps();},getApproximateServerTime:function(){return i.get();},getServerTimeOffset:function(){return -1*i.getSkew();},updateTimeStamps:function(){this.timestamps=h.scry(document.body,'abbr.livetimestamp');this.startLoop(q);},addTimeStamps:function(s){if(!s)return;this.timestamps=this.timestamps||[];if(h.isNodeOfType(s,'abbr')&&g.hasClass(s,'livetimestamp')){this.timestamps.push(s);}else{var t=h.scry(s,'abbr.livetimestamp');for(var u=0;u<t.length;++u)this.timestamps.push(t[u]);}this.startLoop(0);},startLoop:function(s){this.stop();this.timeout=setTimeout(function(){this.loop();}.bind(this),s);},stop:function(){clearTimeout(this.timeout);},loop:function(s){if(s)this.updateTimeStamps();var t=Math.floor(i.get()/k),u=-1;this.timestamps&&this.timestamps.forEach(function(w){var x=w.getAttribute('data-utime'),y=w.getAttribute('data-shorten'),z=this.renderRelativeTime(t,x,y);if(z.text)h.setContent(w,z.text);if(z.next!=-1&&(z.next<u||u==-1))u=z.next;}.bind(this));if(u!=-1){var v=Math.max(q,u*k);this.timeout=setTimeout(function(){this.loop();}.bind(this),v);}},renderRelativeTime:function(s,t,u){var v={text:"",next:-1};if(s-t>(o))return v;var w=s-t,x=Math.floor(w/l),y=Math.floor(x/p);if(x<1){if(u){v.text="Just now";v.next=20-w%20;}else{v.text="a few seconds ago";v.next=l-w%l;}return v;}if(y<1){if(u&&x==1){v.text="1 min";}else if(u){v.text=j._("{number} mins",[j.param("number",x)]);}else v.text=x==1?"about a minute ago":j._("{number} minutes ago",[j.param("number",x)]);v.next=l-w%l;return v;}if(y<11)v.next=m-w%m;if(u&&y==1){v.text="1 hr";}else if(u){v.text=j._("{number} hrs",[j.param("number",y)]);}else v.text=y==1?"about an hour ago":j._("{number} hours ago",[j.param("number",y)]);return v;},renderRelativeTimeToServer:function(s,t){return this.renderRelativeTime(Math.floor(i.get()/k),s,t);}};e.exports=r;e.exports.CONSTS={MS_IN_SEC:k,SEC_IN_MIN:l,SEC_IN_HOUR:m,SEC_IN_12_HOUR:n,SEC_IN_24_HOUR:o,MIN_IN_HOUR:p,HEARTBEAT:q};},null);
__d("UFICentralUpdates",["Arbiter","ChannelConstants","LiveTimer","ShortProfiles","UFIConstants","copyProperties","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=0,o={},p={},q={},r={},s=[];g.subscribe(h.getArbiterType('live-data'),function(x,y){if(y&&y.obj){var z=y.obj,aa=z.comments||[];aa.forEach(function(ba){ba.timestamp.text="a few seconds ago";});w.handleUpdate(k.UFIPayloadSourceType.LIVE_SEND,z);}});function t(){if(!n){var x=q,y=o,z=p,aa=r;q={};o={};p={};r={};if(Object.keys(x).length)v('feedback-id-changed',x);if(Object.keys(y).length)v('feedback-updated',y);if(Object.keys(z).length)v('comments-updated',z);if(Object.keys(aa).length)v('instance-updated',aa);s.pop();}}function u(){if(s.length){return s[s.length-1];}else return k.UFIPayloadSourceType.UNKNOWN;}function v(event,x){w.inform(event,{updates:x,payloadSource:u()});}var w=l(new g(),{handleUpdate:function(x,y){if(Object.keys(y).length)this.synchronizeInforms(function(){s.push(x);var z=l({payloadsource:u()},y);this.inform('update-feedback',z);this.inform('update-comment-lists',z);this.inform('update-comments',z);this.inform('update-actions',z);(y.profiles||[]).forEach(function(aa){j.set(aa.id,aa);});if(y.servertime)i.restart(y.servertime);}.bind(this));},didUpdateFeedback:function(x){o[x]=true;t();},didUpdateComment:function(x){p[x]=true;t();},didUpdateFeedbackID:function(x,y){q[x]=y;t();},didUpdateInstanceState:function(x,y){if(!r[x])r[x]={};r[x][y]=true;t();},synchronizeInforms:function(x){n++;try{x();}catch(y){throw y;}finally{n--;t();}}});e.exports=w;},null);
__d("MercuryLoggingHelper",[],function(a,b,c,d,e,f){var g={obfuscateThread:function(h){var i=Object.assign({},h);if(h&&h.snippet&&h.snippet.length>5)i.snippet=h.snippet.substr(0,5)+'...';return i;},obfuscateMessage:function(h){var i=Object.assign({},h);if(h&&h.body&&h.body.length>5)i.body=h.body.substr(0,5)+'...';return i;}};e.exports=g;},null);
__d("MercuryServerDispatcher",["AsyncRequest","CurrentUser","LogHistory","MercuryLoggingHelper","areJSONRepresentationsEqual","copyProperties","debounceAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={},o=i.getInstance('mercury_dispatcher'),p=false,q={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',DEFAULT_ENDPOINT_ID:'mercuryServerDispatcherDefaultEndpointID',registerEndpoints:function(t){for(var u in t){var v=t[u],w=v.request_user_id||h.getID(),x=v.endpoint_id||q.DEFAULT_ENDPOINT_ID;if(!n[u])n[u]={};if(!n[u][w])n[u][w]={};n[u][w][x]=new r(u,v);}},trySend:function(t,u,v,w,x){w=w||h.getID();x=x||q.DEFAULT_ENDPOINT_ID;n[t][w][x].trySend(u,v);}};function r(t,u){var v=u.mode||q.IMMEDIATE;switch(v){case q.IMMEDIATE:case q.IDEMPOTENT:case q.BATCH_SUCCESSIVE:case q.BATCH_SUCCESSIVE_UNIQUE:case q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case q.BATCH_DEFERRED_MULTI:case q.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+v);}this._endpoint=t;this._mode=v;this._requestUserID=u.request_user_id;this._combineData=u.batch_function;this._combineDataIf=u.batch_if;this._batchSizeLimit=u.batch_size_limit;this._batches=[];this._handler=u.handler;this._errorHandler=u.error_handler;this._transportErrorHandler=u.transport_error_handler||u.error_handler;this._connectionRetries=u.connection_retries||0;this._timeoutHandler=u.timeout_handler;this._timeout=u.timeout;this._serverDialogCancelHandler=u.server_dialog_cancel_handler||u.error_handler;this._sendAttemptLoggingHandler=u.send_attempt_logging_handler;this._auto_retries=u.auto_retries||0;this._deferredSend=m(this._batchSend,0,this);}l(r.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,_sendAttemptLoggingHandler:null,trySend:function(t,u){if(p)return;if(t===(void 0))t=null;var v=u||this._mode;if(v==q.IMMEDIATE){this._send(t);}else if(v==q.IDEMPOTENT){if(!this._inFlight)this._send(t);}else if(v==q.BATCH_SUCCESSIVE||v==q.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(t);}else this._batchData(t);}else if(v==q.BATCH_CONDITIONAL){var w=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,t)||this._combineDataIf(w,t))){this._batchData(t);}else this._send(t);}else if(v==q.BATCH_DEFERRED_MULTI){this._batchData(t);this._deferredSend();}else if(v==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(t);if(!this._inFlight)this._batchSend();}},_send:function(t){this._inFlight++;this._pendingRequestData=l({},t);if(this._requestUserID!=h.getID())t.request_user_id=this._requestUserID;var u=[];if(t&&t.message_batch)for(var v=0;v<t.message_batch.length;v++){var w=j.obfuscateMessage(t.message_batch[v]);u.push(w);}var x=u.length?l({},t,{message_batch:u}):t;o.log('send',{endpoint:this._endpoint,data:x,inflight_count:this._inFlight});var y=new g(this._endpoint).setData(t).setOption('retries',this._connectionRetries).setHandler(this._handleResponse.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._timeout&&this._timeoutHandler)y.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));y.send();if(this._sendAttemptLoggingHandler&&t&&t.message_batch)t.message_batch.map(function(z){return this._sendAttemptLoggingHandler(z);}.bind(this));},_batchData:function(t,u){if(this._mode==q.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==(void 0)&&k(t,this._pendingRequestData)){return;}else{var v=this._batches.length-1;if(v>=0&&!this._hasReachedBatchLimit(this._batches[v])){u?this._batches[v].combineWithOlder(t,this._combineData):this._batches[v].combineWith(t,this._combineData);}else this._batches.push(new s(t));o.debug('batch',{endpoint:this._endpoint,batches:this._batches,batch_limit:this._batchSizeLimit});}},_hasReachedBatchLimit:function(t){return this._batchSizeLimit&&t.getSize()>=this._batchSizeLimit;},_batchSend:function(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function(t){this._inFlight--;o.log('response',{endpoint:this._endpoint,inflight_count:this._inFlight});var u=t.getPayload();p=u&&u.kill_chat;if(p)o.log('killswitch_enabled',{endpoint:this._endpoint,inflight_count:this._inFlight});if(u&&u.error_payload){if(this._errorHandler)this._errorHandler(t);}else this._handler&&this._handler(u,t.getRequest());if(this._mode==q.BATCH_SUCCESSIVE||this._mode==q.BATCH_SUCCESSIVE_UNIQUE||this._mode==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==q.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function(){o.error('error',{endpoint:this._endpoint,inflight_count:this._inFlight-1});this._inFlight--;var t=this._mode;if(t==q.BATCH_SUCCESSIVE||t==q.BATCH_SUCCESSIVE_UNIQUE||t==q.BATCH_CONDITIONAL){this._batchSend();}else if(t==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_shouldAutoRetrySend:function(t){var u=t.auto_retry_cnt?t.auto_retry_cnt:0;return u<this._auto_retries;},_autoRetrySend:function(t){var u=Object.assign({},t);u.auto_retry_cnt=u.auto_retry_cnt?u.auto_retry_cnt+1:1;this._send(u);},_handleError:function(t){this._errorHandler&&this._errorHandler(t);this._postErrorHandler();},_handleTransportError:function(t){var u=t.getRequest().getData();if(this._shouldAutoRetrySend(u)){this._autoRetrySend(u);}else{this._transportErrorHandler&&this._transportErrorHandler(t);this._postErrorHandler();}},_handleTimeout:function(t){var u=t.getData();if(this._shouldAutoRetrySend(u)){this._autoRetrySend(u);}else{this._timeoutHandler&&this._timeoutHandler(t);this._postErrorHandler();}},_handleServerDialogCancel:function(t){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(t);this._postErrorHandler();}});function s(t){this._data=t;this._size=1;}l(s.prototype,{getData:function(){return this._data;},getSize:function(){return this._size;},combineWith:function(t,u){this._data=u(this._data,t);this._size++;},combineWithOlder:function(t,u){this._data=u(t,this._data);this._size++;}});e.exports=q;},null);
__d("ClientIDs",["randomInt"],function(a,b,c,d,e,f,g){var h={},i={getNewClientID:function(){var j=Date.now(),k=j+':'+(g(0,4294967295)+1);h[k]=true;return k;},isExistingClientID:function(j){return !!h[j];}};e.exports=i;},null);
__d("UFIFeedbackTargets",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k){var l=new h();function m(v){var w={};v.forEach(function(x){var y=k({},x);delete y.commentlist;delete y.commentcount;w[x.entidentifier]=y;i.didUpdateFeedback(x.entidentifier);});l.addResourcesAndExecute(w);}function n(v){for(var w=0;w<v.length;w++){var x=v[w];switch(x.actiontype){case j.UFIActionType.LIKE_ACTION:p(x);break;case j.UFIActionType.SUBSCRIBE_ACTION:q(x);break;case j.UFIActionType.DISABLE_COMMENTS:r(x);break;}}}function o(v){for(var w=0;w<v.length;w++){var x=v[w];if(x.orig_ftentidentifier)t(x.orig_ftentidentifier,x.ftentidentifier);}}function p(v){var w=s(v);if(w){v.hasviewerliked=!!v.hasviewerliked;if(v.clientid&&g.isExistingClientID(v.clientid)&&v.hasviewerliked!=w.hasviewerliked)return;w.likecount=v.likecount||0;w.likesentences=v.likesentences;if(v.actorid==w.actorforpost){w.hasviewerliked=v.hasviewerliked;}else if(v.hasviewerliked!=w.hasviewerliked){w.likesentences={current:v.likesentences.alternate,alternate:v.likesentences.current};if(w.hasviewerliked){w.likecount++;}else w.likecount--;}if(v.actorid!=w.actorforpost)w.likesentences.isunseen=true;m([w]);}}function q(v){var w=s(v);if(w){v.hasviewersubscribed=!!v.hasviewersubscribed;if(v.clientid&&g.isExistingClientID(v.clientid)&&v.hasviewersubscribed!=w.hasviewersubscribed)return;if(v.actorid==w.actorforpost)w.hasviewersubscribed=v.hasviewersubscribed;m([w]);}}function r(v){var w=s(v);if(w){w.cancomment=!!v.cancomment;m([w]);}}function s(v){if(v.orig_entidentifier)t(v.orig_entidentifier,v.entidentifier);return l.getResource(v.entidentifier);}function t(v,w){var x=l.getResource(v);if(x){l.setResource(v,null);x.entidentifier=w;l.setResource(w,x);i.didUpdateFeedbackID(v,w);}}var u={getFeedbackTarget:function(v,w){var x=l.executeOrEnqueue(v,w),y=l.getUnavailableResources(x);y.length;return x;},getActorIDForFeedbackTargetIfExists:function(v){var w=l.getResource(v);return w?w.actorforpost:null;},handleNFB:function(v,w){var x=l.getResource(v);if(x){x.nfbcount=w||0;m([x]);}},unsubscribe:function(v){l.unsubscribe(v);}};i.subscribe('update-feedback',function(v,w){var x=w.feedbacktargets;if(x&&x.length)m(x);});i.subscribe('update-actions',function(v,w){if(w.actions&&w.actions.length)n(w.actions);});i.subscribe('update-comments',function(v,w){if(w.comments&&w.comments.length)o(w.comments);});e.exports=u;},null);
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f,g){var h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;},null);
__d("UFIFeaturedToplevelCommentList",["UFIConstants","UFIToplevelCommentList"],function(a,b,c,d,e,f,g,h){"use strict";for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;k.getCommentList=function(l,m){};k.getCommentListsForFeedbackTargetID=function(l){};k.getCommentListForFeedbackTargetID_UNSAFE=function(l){};k.resetCommentListsForFeedbackTargetID=function(l){};function k(l,m,n){h.call(this,l,g.UFICommentOrderingMode.FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}k.prototype.fetchComments=function(l,m,n){};e.exports=k;},null);
__d("isValidUniqueID",[],function(a,b,c,d,e,f){function g(h){return (h!==null&&h!==(void 0)&&h!==''&&(typeof h==='string'||typeof h==='number'));}e.exports=g;},null);
__d("SearchableEntry",["HTML","isValidUniqueID","invariant"],function(a,b,c,d,e,f,g,h,i){function j(l){switch(typeof l){case 'string':return l;case 'object':var m=g.replaceJSONWrapper(l);if(g.isHTML(m)){var n=m.getRootNode();return n.textContent||n.innerText||'';}else return '';default:return '';}}function k(l){"use strict";i(h(l.uniqueID));i(!!l.title&&typeof l.title==='string');this.$SearchableEntry0=l.uniqueID+'';this.$SearchableEntry1=l.title;this.$SearchableEntry2=l.order||0;this.$SearchableEntry3=j(l.subtitle);this.$SearchableEntry4=l.keywordString||'';this.$SearchableEntry5=l.photo||'';this.$SearchableEntry6=l.uri||'';this.$SearchableEntry7=l.type||'';this.$SearchableEntry8=l.auxiliaryData||null;}k.prototype.getUniqueID=function(){"use strict";return this.$SearchableEntry0;};k.prototype.getOrder=function(){"use strict";return this.$SearchableEntry2;};k.prototype.getTitle=function(){"use strict";return this.$SearchableEntry1;};k.prototype.getSubtitle=function(){"use strict";return this.$SearchableEntry3;};k.prototype.getKeywordString=function(){"use strict";return this.$SearchableEntry4;};k.prototype.getPhoto=function(){"use strict";return this.$SearchableEntry5;};k.prototype.getURI=function(){"use strict";return this.$SearchableEntry6;};k.prototype.getType=function(){"use strict";return this.$SearchableEntry7;};k.prototype.getAuxiliaryData=function(){"use strict";return this.$SearchableEntry8;};e.exports=k;},null);
__d("immutable",[],function(a,b,c,d,e,f){function g(){var h=Object;function i(vh,wh,xh,yh){var zh;if(yh){var ai=yh.prototype;zh=h.create(ai);}else zh=vh.prototype;h.keys(wh).forEach(function(bi){zh[bi]=wh[bi];});h.keys(xh).forEach(function(bi){vh[bi]=xh[bi];});zh.constructor=vh;vh.prototype=zh;return vh;}function j(vh,wh,xh,yh){return h.getPrototypeOf(wh)[xh].apply(vh,yh);}function k(vh,wh,xh){j(vh,wh,'constructor',xh);}var l={};l.createClass=i;l.superCall=j;l.defaultSuperCall=k;"use strict";function m(vh,wh){if(vh===wh)return vh!==0||wh!==0||1/vh===1/wh;if(vh!==vh)return wh!==wh;if(vh&&typeof vh.equals==='function')return vh.equals(wh);return false;}function n(vh,wh){if(!vh)throw new Error(wh);}var o='delete',p=5,q=1<<p,r=q-1,s={},t={value:false},u={value:false};function v(vh){vh.value=false;return vh;}function w(vh){vh&&(vh.value=true);}function x(){}function y(vh,wh){wh=wh||0;var xh=Math.max(0,vh.length-wh),yh=new Array(xh);for(var zh=0;zh<xh;zh++)yh[zh]=vh[zh+wh];return yh;}function z(vh){n(vh!==Infinity);}function aa(vh){if(vh.size===(void 0))vh.size=vh.__iterate(ca);return vh.size;}function ba(vh,wh){return wh>=0?wh:aa(vh)+wh;}function ca(){return true;}function da(vh,wh,xh){return (vh===0||(xh!==(void 0)&&vh<=-xh))&&(wh===(void 0)||(xh!==(void 0)&&wh>=xh));}function ea(vh,wh){return ga(vh,wh,0);}function fa(vh,wh){return ga(vh,wh,wh);}function ga(vh,wh,xh){return vh===(void 0)?xh:vh<0?Math.max(0,wh+vh):wh===(void 0)?vh:Math.min(wh,vh);}function ha(vh){if(!vh)return 0;if(vh===true)return 1;var wh=typeof vh;if(wh==='number'){if((vh|0)===vh)return vh&oa;vh=''+vh;wh='string';}if(wh==='string')return vh.length>ra?ia(vh):ja(vh);if(vh.hashCode)return ha(typeof vh.hashCode==='function'?vh.hashCode():vh.hashCode);return ka(vh);}function ia(vh){var wh=ua[vh];if(wh===(void 0)){wh=ja(vh);if(ta===sa){ta=0;ua={};}ta++;ua[vh]=wh;}return wh;}function ja(vh){var wh=0;for(var xh=0;xh<vh.length;xh++)wh=(31*wh+vh.charCodeAt(xh))&oa;return wh;}function ka(vh){var wh=na&&na.get(vh);if(wh)return wh;wh=vh[qa];if(wh)return wh;if(!la){wh=vh.propertyIsEnumerable&&vh.propertyIsEnumerable[qa];if(wh)return wh;wh=ma(vh);if(wh)return wh;}if(Object.isExtensible&&!Object.isExtensible(vh))throw new Error('Non-extensible objects are not allowed as keys.');wh=++pa&oa;if(na){na.set(vh,wh);}else if(la){Object.defineProperty(vh,qa,{enumerable:false,configurable:false,writable:false,value:wh});}else if(vh.propertyIsEnumerable&&vh.propertyIsEnumerable===vh.constructor.prototype.propertyIsEnumerable){vh.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};vh.propertyIsEnumerable[qa]=wh;}else if(vh.nodeType){vh[qa]=wh;}else throw new Error('Unable to set a non-enumerable property on object.');return wh;}var la=(function(){try{Object.defineProperty({},'x',{});return true;}catch(vh){return false;}}());function ma(vh){if(vh&&vh.nodeType>0)switch(vh.nodeType){case 1:return vh.uniqueID;case 9:return vh.documentElement&&vh.documentElement.uniqueID;}}var na=typeof WeakMap==='function'&&new WeakMap(),oa=2147483647,pa=0,qa='__immutablehash__';if(typeof Symbol==='function')qa=Symbol(qa);var ra=16,sa=255,ta=0,ua={},va=0,wa=1,xa=2,ya='@@iterator',za=typeof Symbol==='function'&&Symbol.iterator,ab=za||ya,bb=function vh(wh){this.next=wh;};(l.createClass)(bb,{toString:function(){return '[Iterator]';}},{});bb.KEYS=va;bb.VALUES=wa;bb.ENTRIES=xa;var cb=bb.prototype;cb.inspect=cb.toSource=function(){return this.toString();};cb[ab]=function(){return this;};function db(vh,wh,xh,yh){var zh=vh===0?wh:vh===1?xh:[wh,xh];yh?(yh.value=zh):(yh={value:zh,done:false});return yh;}function eb(){return {value:(void 0),done:true};}function fb(vh){return !!ib(vh);}function gb(vh){return vh&&typeof vh.next==='function';}function hb(vh){var wh=ib(vh);return wh&&wh.call(vh);}function ib(vh){var wh=vh&&((za&&vh[za])||vh[ya]);if(typeof wh==='function')return wh;}var jb=function vh(wh){return tb(wh)?wh:ec(wh);},kb=jb;(l.createClass)(jb,{toArray:function(){z(this.size);var vh=new Array(this.size||0);this.valueSeq().__iterate((function(wh,xh){vh[xh]=wh;}));return vh;},toIndexedSeq:function(){return new ve(this);},toJS:function(){return this.toSeq().map((function(vh){return vh&&typeof vh.toJS==='function'?vh.toJS():vh;})).__toJS();},toKeyedSeq:function(){return new ue(this,true);},toMap:function(){z(this.size);return md(this.toKeyedSeq());},toObject:function(){z(this.size);var vh={};this.__iterate((function(wh,xh){vh[xh]=wh;}));return vh;},toOrderedMap:function(){z(this.size);return bh(this.toKeyedSeq());},toSet:function(){z(this.size);return ug(ub(this)?this.valueSeq():this);},toSetSeq:function(){return new we(this);},toSeq:function(){return vb(this)?this.toIndexedSeq():ub(this)?this.toKeyedSeq():this.toSetSeq();},toStack:function(){z(this.size);return mg(ub(this)?this.valueSeq():this);},toList:function(){z(this.size);return tf(ub(this)?this.valueSeq():this);},toString:function(){return '[Iterable]';},__toString:function(vh,wh){if(this.size===0)return vh+wh;return vh+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+wh;},concat:function(){for(var vh=[],wh=0;wh<arguments.length;wh++)vh[wh]=arguments[wh];return nf(this,jf(this,vh));},contains:function(vh){return this.some((function(wh){return m(wh,vh);}));},entries:function(){return this.__iterator(xa);},every:function(vh,wh){var xh=true;this.__iterate((function(yh,zh,ai){if(!vh.call(wh,yh,zh,ai)){xh=false;return false;}}));return xh;},filter:function(vh,wh){return nf(this,bf(this,vh,wh,true));},find:function(vh,wh,xh){var yh=xh;this.__iterate((function(zh,ai,bi){if(vh.call(wh,zh,ai,bi)){yh=zh;return false;}}));return yh;},forEach:function(vh,wh){return this.__iterate(wh?vh.bind(wh):vh);},join:function(vh){vh=vh!==(void 0)?''+vh:',';var wh='',xh=true;this.__iterate((function(yh){xh?(xh=false):(wh+=vh);wh+=yh!==null&&yh!==(void 0)?yh:'';}));return wh;},keys:function(){return this.__iterator(va);},map:function(vh,wh){return nf(this,ze(this,vh,wh));},reduce:function(vh,wh,xh){var yh,zh;if(arguments.length<2){zh=true;}else yh=wh;this.__iterate((function(ai,bi,ci){if(zh){zh=false;yh=ai;}else yh=vh.call(xh,yh,ai,bi,ci);}));return yh;},reduceRight:function(vh,wh,xh){var yh=this.toKeyedSeq().reverse();return yh.reduce.apply(yh,arguments);},reverse:function(){return nf(this,af(this,true));},slice:function(vh,wh){if(da(vh,wh,this.size))return this;var xh=ea(vh,this.size),yh=fa(wh,this.size);if(xh!==xh||yh!==yh)return this.toSeq().cacheResult().slice(vh,wh);var zh=xh===0?this:this.skip(xh);return nf(this,yh===(void 0)||yh===this.size?zh:zh.take(yh-xh));},some:function(vh,wh){return !this.every(ac(vh),wh);},sort:function(vh){return this.sortBy(xb,vh);},values:function(){return this.__iterator(wa);},butLast:function(){return this.slice(0,-1);},count:function(vh,wh){return aa(vh?this.toSeq().filter(vh,wh):this);},countBy:function(vh,wh){return cf(this,vh,wh);},equals:function(vh){if(this===vh)return true;if(!vh||typeof vh.equals!=='function')return false;if(this.size!==(void 0)&&vh.size!==(void 0)){if(this.size!==vh.size)return false;if(this.size===0&&vh.size===0)return true;}if(this.__hash!==(void 0)&&vh.__hash!==(void 0)&&this.__hash!==vh.__hash)return false;return this.__deepEquals(vh);},__deepEquals:function(vh){var wh=this.entries();return typeof vh.every==='function'&&vh.every((function(xh,yh){var zh=wh.next().value;return zh&&m(zh[0],yh)&&m(zh[1],xh);}))&&wh.next().done;},entrySeq:function(){var vh=this;if(vh._cache)return new nc(vh._cache);var wh=vh.toSeq().map(zb).toIndexedSeq();wh.fromEntrySeq=(function(){return vh.toSeq();});return wh;},filterNot:function(vh,wh){return this.filter(ac(vh),wh);},findLast:function(vh,wh,xh){return this.toKeyedSeq().reverse().find(vh,wh,xh);},first:function(){return this.find(ca);},flatMap:function(vh,wh){return nf(this,lf(this,vh,wh));},flatten:function(vh){return nf(this,kf(this,vh,true));},fromEntrySeq:function(){return new xe(this);},get:function(vh,wh){return this.find((function(xh,yh){return m(yh,vh);}),(void 0),wh);},getIn:function(vh,wh){var xh=this;if(vh)for(var yh=0;yh<vh.length;yh++){xh=xh&&xh.get?xh.get(vh[yh],s):s;if(xh===s)return wh;}return xh;},groupBy:function(vh,wh){return df(this,vh,wh);},has:function(vh){return this.get(vh,s)!==s;},isSubset:function(vh){vh=typeof vh.contains==='function'?vh:kb(vh);return this.every((function(wh){return vh.contains(wh);}));},isSuperset:function(vh){return vh.isSubset(this);},keySeq:function(){return this.toSeq().map(yb).toIndexedSeq();},last:function(){return this.toSeq().reverse().first();},max:function(vh){return this.maxBy(xb,vh);},maxBy:function(vh,wh){var xh=this;wh=wh||cc;var yh=this.entrySeq().reduce((function(zh,ai){return wh(vh(ai[1],ai[0],xh),vh(zh[1],zh[0],xh))>0?ai:zh;}));return yh&&yh[1];},min:function(vh){return this.minBy(xb,vh);},minBy:function(vh,wh){var xh=this;wh=wh||cc;var yh=this.entrySeq().reduce((function(zh,ai){return wh(vh(ai[1],ai[0],xh),vh(zh[1],zh[0],xh))<0?ai:zh;}));return yh&&yh[1];},rest:function(){return this.slice(1);},skip:function(vh){return nf(this,gf(this,vh,true));},skipLast:function(vh){return nf(this,this.toSeq().reverse().skip(vh).reverse());},skipWhile:function(vh,wh){return nf(this,hf(this,vh,wh,true));},skipUntil:function(vh,wh){return this.skipWhile(ac(vh),wh);},sortBy:function(vh,wh){var xh=this;wh=wh||cc;return nf(this,new nc(this.entrySeq().entrySeq().toArray().sort((function(yh,zh){return wh(vh(yh[1][1],yh[1][0],xh),vh(zh[1][1],zh[1][0],xh))||yh[0]-zh[0];}))).fromEntrySeq().valueSeq().fromEntrySeq());},take:function(vh){return nf(this,ef(this,vh));},takeLast:function(vh){return nf(this,this.toSeq().reverse().take(vh).reverse());},takeWhile:function(vh,wh){return nf(this,ff(this,vh,wh));},takeUntil:function(vh,wh){return this.takeWhile(ac(vh),wh);},valueSeq:function(){return this.toIndexedSeq();},hashCode:function(){return this.__hash||(this.__hash=this.size===Infinity?0:this.reduce((function(vh,wh,xh){return (vh+(ha(wh)^(wh===xh?0:ha(xh))))&oa;}),0));}},{});var lb='@@__IMMUTABLE_ITERABLE__@@',mb='@@__IMMUTABLE_KEYED__@@',nb='@@__IMMUTABLE_INDEXED__@@',ob=jb.prototype;ob[lb]=true;ob[ab]=ob.values;ob.toJSON=ob.toJS;ob.__toJS=ob.toArray;ob.__toStringMapper=bc;ob.inspect=ob.toSource=function(){return this.toString();};ob.chain=ob.flatMap;(function(){try{Object.defineProperty(ob,'length',{get:function(){if(!jb.noLengthWarning){var wh;try{throw new Error();}catch(xh){wh=xh.stack;}if(wh.indexOf('_wrapObject')===-1){console&&emptyFunction&&false;return this.size;}}}});}catch(vh){}})();var pb=function vh(wh){return ub(wh)?wh:gc(wh);};(l.createClass)(pb,{flip:function(){return nf(this,ye(this));},findKey:function(vh,wh){var xh;this.__iterate((function(yh,zh,ai){if(vh.call(wh,yh,zh,ai)){xh=zh;return false;}}));return xh;},findLastKey:function(vh,wh){return this.toSeq().reverse().findKey(vh,wh);},keyOf:function(vh){return this.findKey((function(wh){return m(wh,vh);}));},lastKeyOf:function(vh){return this.toSeq().reverse().keyOf(vh);},mapEntries:function(vh,wh){var xh=this,yh=0;return nf(this,this.toSeq().map((function(zh,ai){return vh.call(wh,[ai,zh],yh++,xh);})).fromEntrySeq());},mapKeys:function(vh,wh){var xh=this;return nf(this,this.toSeq().flip().map((function(yh,zh){return vh.call(wh,yh,zh,xh);})).flip());}},{},jb);var qb=pb.prototype;qb[mb]=true;qb[ab]=ob.entries;qb.__toJS=ob.toObject;qb.__toStringMapper=(function(vh,wh){return wh+': '+bc(vh);});var rb=function vh(wh){return vb(wh)?wh:ic(wh);};(l.createClass)(rb,{toKeyedSeq:function(){return new ue(this,false);},filter:function(vh,wh){return nf(this,bf(this,vh,wh,false));},findIndex:function(vh,wh){var xh=this.toKeyedSeq().findKey(vh,wh);return xh===(void 0)?-1:xh;},indexOf:function(vh){var wh=this.toKeyedSeq().keyOf(vh);return wh===(void 0)?-1:wh;},lastIndexOf:function(vh){var wh=this.toKeyedSeq().lastKeyOf(vh);return wh===(void 0)?-1:wh;},reverse:function(){return nf(this,af(this,false));},splice:function(vh,wh){var xh=arguments.length;wh=Math.max(wh|0,0);if(xh===0||(xh===2&&!wh))return this;vh=ea(vh,this.size);var yh=this.slice(0,vh);return nf(this,xh===1?yh:yh.concat(y(arguments,2),this.slice(vh+wh)));},findLastIndex:function(vh,wh){var xh=this.toKeyedSeq().findLastKey(vh,wh);return xh===(void 0)?-1:xh;},first:function(){return this.get(0);},flatten:function(vh){return nf(this,kf(this,vh,false));},get:function(vh,wh){vh=ba(this,vh);return (vh<0||(this.size===Infinity||(this.size!==(void 0)&&vh>this.size)))?wh:this.find((function(xh,yh){return yh===vh;}),(void 0),wh);},has:function(vh){vh=ba(this,vh);return vh>=0&&(this.size!==(void 0)?this.size===Infinity||vh<this.size:this.indexOf(vh)!==-1);},interpose:function(vh){return nf(this,mf(this,vh));},last:function(){return this.get(-1);},skip:function(vh){var wh=this,xh=gf(wh,vh,false);if(rc(wh)&&xh!==wh)xh.get=function(yh,zh){yh=ba(this,yh);return yh>=0?wh.get(yh+vh,zh):zh;};return nf(this,xh);},skipWhile:function(vh,wh){return nf(this,hf(this,vh,wh,false));},sortBy:function(vh,wh){var xh=this;wh=wh||cc;return nf(this,new nc(this.entrySeq().toArray().sort((function(yh,zh){return wh(vh(yh[1],yh[0],xh),vh(zh[1],zh[0],xh))||yh[0]-zh[0];}))).fromEntrySeq().valueSeq());},take:function(vh){var wh=this,xh=ef(wh,vh);if(rc(wh)&&xh!==wh)xh.get=function(yh,zh){yh=ba(this,yh);return yh>=0&&yh<vh?wh.get(yh,zh):zh;};return nf(this,xh);}},{},jb);rb.prototype[nb]=true;var sb=function vh(wh){return tb(wh)&&!wb(wh)?wh:kc(wh);};(l.createClass)(sb,{get:function(vh,wh){return this.has(vh)?vh:wh;},contains:function(vh){return this.has(vh);},keySeq:function(){return this.valueSeq();}},{},jb);sb.prototype.has=ob.contains;function tb(vh){return !!(vh&&vh[lb]);}function ub(vh){return !!(vh&&vh[mb]);}function vb(vh){return !!(vh&&vh[nb]);}function wb(vh){return ub(vh)||vb(vh);}jb.isIterable=tb;jb.isKeyed=ub;jb.isIndexed=vb;jb.isAssociative=wb;jb.Keyed=pb;jb.Indexed=rb;jb.Set=sb;jb.Iterator=bb;function xb(vh){return vh;}function yb(vh,wh){return wh;}function zb(vh,wh){return [wh,vh];}function ac(vh){return function(){return !vh.apply(this,arguments);};}function bc(vh){return typeof vh==='string'?JSON.stringify(vh):vh;}function cc(vh,wh){return vh>wh?1:vh<wh?-1:0;}function dc(vh,wh){var xh=vh.prototype,yh=(function(zh){xh[zh]=wh[zh];});Object.keys(wh).forEach(yh);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(wh).forEach(yh);return vh;}var ec=function vh(wh){return wh===null||wh===(void 0)?tc():tb(wh)?wh.toSeq():wc(wh);},fc=ec;(l.createClass)(ec,{toSeq:function(){return this;},toString:function(){return this.__toString('Seq {','}');},cacheResult:function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length;}return this;},__iterate:function(vh,wh){return zc(this,vh,wh,true);},__iterator:function(vh,wh){return ad(this,vh,wh,true);}},{of:function(){return fc(arguments);}},jb);var gc=function vh(wh){return wh===null||wh===(void 0)?tc().toKeyedSeq():tb(wh)?(ub(wh)?wh.toSeq():wh.fromEntrySeq()):uc(wh);},hc=gc;(l.createClass)(gc,{toKeyedSeq:function(){return this;},toSeq:function(){return this;}},{of:function(){return hc(arguments);}},ec);dc(gc,pb.prototype);var ic=function vh(wh){return wh===null||wh===(void 0)?tc():!tb(wh)?vc(wh):ub(wh)?wh.entrySeq():wh.toIndexedSeq();},jc=ic;(l.createClass)(ic,{toIndexedSeq:function(){return this;},toString:function(){return this.__toString('Seq [',']');},__iterate:function(vh,wh){return zc(this,vh,wh,false);},__iterator:function(vh,wh){return ad(this,vh,wh,false);}},{of:function(){return jc(arguments);}},ec);dc(ic,rb.prototype);var kc=function vh(wh){return (wh===null||wh===(void 0)?tc():!tb(wh)?vc(wh):ub(wh)?wh.entrySeq():wh).toSetSeq();},lc=kc;(l.createClass)(kc,{toSetSeq:function(){return this;}},{of:function(){return lc(arguments);}},ec);dc(kc,sb.prototype);ec.isSeq=rc;ec.Keyed=gc;ec.Set=kc;ec.Indexed=ic;var mc='@@__IMMUTABLE_SEQ__@@';ec.prototype[mc]=true;var nc=function vh(wh){this._array=wh;this.size=wh.length;};(l.createClass)(nc,{get:function(vh,wh){return this.has(vh)?this._array[ba(this,vh)]:wh;},__iterate:function(vh,wh){var xh=this._array,yh=xh.length-1;for(var zh=0;zh<=yh;zh++)if(vh(xh[wh?yh-zh:zh],zh,this)===false)return zh+1;return zh;},__iterator:function(vh,wh){var xh=this._array,yh=xh.length-1,zh=0;return new bb((function(){return zh>yh?eb():db(vh,zh,xh[wh?yh-zh++:zh++]);}));}},{},ic);var oc=function vh(wh){var xh=Object.keys(wh);this._object=wh;this._keys=xh;this.size=xh.length;};(l.createClass)(oc,{get:function(vh,wh){if(wh!==(void 0)&&!this.has(vh))return wh;return this._object[vh];},has:function(vh){return this._object.hasOwnProperty(vh);},__iterate:function(vh,wh){var xh=this._object,yh=this._keys,zh=yh.length-1;for(var ai=0;ai<=zh;ai++){var bi=yh[wh?zh-ai:ai];if(vh(xh[bi],bi,this)===false)return ai+1;}return ai;},__iterator:function(vh,wh){var xh=this._object,yh=this._keys,zh=yh.length-1,ai=0;return new bb((function(){var bi=yh[wh?zh-ai:ai];return ai++>zh?eb():db(vh,bi,xh[bi]);}));}},{},gc);var pc=function vh(wh){this._iterable=wh;this.size=wh.length||wh.size;};(l.createClass)(pc,{__iterateUncached:function(vh,wh){if(wh)return this.cacheResult().__iterate(vh,wh);var xh=this._iterable,yh=hb(xh),zh=0;if(gb(yh)){var ai;while(!(ai=yh.next()).done)if(vh(ai.value,zh++,this)===false)break;}return zh;},__iteratorUncached:function(vh,wh){if(wh)return this.cacheResult().__iterator(vh,wh);var xh=this._iterable,yh=hb(xh);if(!gb(yh))return new bb(eb);var zh=0;return new bb((function(){var ai=yh.next();return ai.done?ai:db(vh,zh++,ai.value);}));}},{},ic);var qc=function vh(wh){this._iterator=wh;this._iteratorCache=[];};(l.createClass)(qc,{__iterateUncached:function(vh,wh){if(wh)return this.cacheResult().__iterate(vh,wh);var xh=this._iterator,yh=this._iteratorCache,zh=0;while(zh<yh.length)if(vh(yh[zh],zh++,this)===false)return zh;var ai;while(!(ai=xh.next()).done){var bi=ai.value;yh[zh]=bi;if(vh(bi,zh++,this)===false)break;}return zh;},__iteratorUncached:function(vh,wh){if(wh)return this.cacheResult().__iterator(vh,wh);var xh=this._iterator,yh=this._iteratorCache,zh=0;return new bb((function(){if(zh>=yh.length){var ai=xh.next();if(ai.done)return ai;yh[zh]=ai.value;}return db(vh,zh,yh[zh++]);}));}},{},ic);function rc(vh){return !!(vh&&vh[mc]);}var sc;function tc(){return sc||(sc=new nc([]));}function uc(vh){var wh=Array.isArray(vh)?new nc(vh).fromEntrySeq():gb(vh)?new qc(vh).fromEntrySeq():fb(vh)?new pc(vh).fromEntrySeq():typeof vh==='object'?new oc(vh):(void 0);if(!wh)throw new TypeError('Expected Array or iterable object of [k, v] entries, '+'or keyed object: '+vh);return wh;}function vc(vh){var wh=xc(vh);if(!wh)throw new TypeError('Expected Array or iterable object of values: '+vh);return wh;}function wc(vh){var wh=xc(vh)||(typeof vh==='object'&&new oc(vh));if(!wh)throw new TypeError('Expected Array or iterable object of values, or keyed object: '+vh);return wh;}function xc(vh){return (yc(vh)?new nc(vh):gb(vh)?new qc(vh):fb(vh)?new pc(vh):(void 0));}function yc(vh){return vh&&typeof vh.length==='number';}function zc(vh,wh,xh,yh){z(vh.size);var zh=vh._cache;if(zh){var ai=zh.length-1;for(var bi=0;bi<=ai;bi++){var ci=zh[xh?ai-bi:bi];if(wh(ci[1],yh?ci[0]:bi,vh)===false)return bi+1;}return bi;}return vh.__iterateUncached(wh,xh);}function ad(vh,wh,xh,yh){var zh=vh._cache;if(zh){var ai=zh.length-1,bi=0;return new bb((function(){var ci=zh[xh?ai-bi:bi];return bi++>ai?eb():db(wh,yh?ci[0]:bi-1,ci[1]);}));}return vh.__iteratorUncached(wh,xh);}function bd(vh,wh){return wh?cd(wh,vh,'',{'':vh}):dd(vh);}function cd(vh,wh,xh,yh){if(Array.isArray(wh))return vh.call(yh,xh,ic(wh).map((function(zh,ai){return cd(vh,zh,ai,wh);})));if(ed(wh))return vh.call(yh,xh,gc(wh).map((function(zh,ai){return cd(vh,zh,ai,wh);})));return wh;}function dd(vh){if(Array.isArray(vh))return ic(vh).map(dd).toList();if(ed(vh))return gc(vh).map(dd).toMap();return vh;}function ed(vh){return vh&&vh.constructor===Object;}var fd=function vh(){throw TypeError('Abstract');};(l.createClass)(fd,{},{},jb);var gd=function vh(){l.defaultSuperCall(this,hd.prototype,arguments);},hd=gd;(l.createClass)(gd,{},{},fd);dc(gd,pb.prototype);var id=function vh(){l.defaultSuperCall(this,jd.prototype,arguments);},jd=id;(l.createClass)(id,{},{},fd);dc(id,rb.prototype);var kd=function vh(){l.defaultSuperCall(this,ld.prototype,arguments);},ld=kd;(l.createClass)(kd,{},{},fd);dc(kd,sb.prototype);fd.Keyed=gd;fd.Indexed=id;fd.Set=kd;var md=function vh(wh){return wh===null||wh===(void 0)?de():nd(wh)?wh:de().merge(pb(wh));};(l.createClass)(md,{toString:function(){return this.__toString('Map {','}');},get:function(vh,wh){return this._root?this._root.get(0,ha(vh),vh,wh):wh;},set:function(vh,wh){return ee(this,vh,wh);},setIn:function(vh,wh){n(vh.length>0);return this.updateIn(vh,(function(){return wh;}));},remove:function(vh){return ee(this,vh,s);},removeIn:function(vh){n(vh.length>0);return this.updateIn(vh,(function(){return s;}));},update:function(vh,wh,xh){return arguments.length===1?vh(this):this.updateIn([vh],wh,xh);},updateIn:function(vh,wh,xh){if(!xh){xh=wh;wh=(void 0);}return vh.length===0?xh(this):ne(this,vh,wh,xh,0);},clear:function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=(void 0);this.__altered=true;return this;}return de();},merge:function(){return ke(this,(void 0),arguments);},mergeWith:function(vh){for(var wh=[],xh=1;xh<arguments.length;xh++)wh[xh-1]=arguments[xh];return ke(this,vh,wh);},mergeDeep:function(){return ke(this,le((void 0)),arguments);},mergeDeepWith:function(vh){for(var wh=[],xh=1;xh<arguments.length;xh++)wh[xh-1]=arguments[xh];return ke(this,le(vh),wh);},withMutations:function(vh){var wh=this.asMutable();vh(wh);return wh.wasAltered()?wh.__ensureOwner(this.__ownerID):this;},asMutable:function(){return this.__ownerID?this:this.__ensureOwner(new x());},asImmutable:function(){return this.__ensureOwner();},wasAltered:function(){return this.__altered;},__iterator:function(vh,wh){return new yd(this,vh,wh);},__iterate:function(vh,wh){var xh=this,yh=0;this._root&&this._root.iterate((function(zh){yh++;return vh(zh[1],zh[0],xh);}),wh);return yh;},__ensureOwner:function(vh){if(vh===this.__ownerID)return this;if(!vh){this.__ownerID=vh;this.__altered=false;return this;}return be(this.size,this._root,vh,this.__hash);}},{},gd);function nd(vh){return !!(vh&&vh[od]);}md.isMap=nd;var od='@@__IMMUTABLE_MAP__@@',pd=md.prototype;pd[od]=true;pd[o]=pd.remove;var qd=function vh(wh,xh,yh){this.ownerID=wh;this.bitmap=xh;this.nodes=yh;},rd=qd;(l.createClass)(qd,{get:function(vh,wh,xh,yh){var zh=(1<<((vh===0?wh:wh>>>vh)&r)),ai=this.bitmap;return (ai&zh)===0?yh:this.nodes[oe(ai&(zh-1))].get(vh+p,wh,xh,yh);},update:function(vh,wh,xh,yh,zh,ai,bi){var ci=(wh===0?xh:xh>>>wh)&r,di=1<<ci,ei=this.bitmap,fi=(ei&di)!==0;if(!fi&&zh===s)return this;var gi=oe(ei&(di-1)),hi=this.nodes,ii=fi?hi[gi]:(void 0),ji=fe(ii,vh,wh+p,xh,yh,zh,ai,bi);if(ji===ii)return this;if(!fi&&ji&&hi.length>=se)return je(vh,hi,ei,ci,ji);if(fi&&!ji&&hi.length===2&&ge(hi[gi^1]))return hi[gi^1];if(fi&&ji&&hi.length===1&&ge(ji))return ji;var ki=vh&&vh===this.ownerID,li=fi?ji?ei:ei^di:ei|di,mi=fi?ji?pe(hi,gi,ji,ki):re(hi,gi,ki):qe(hi,gi,ji,ki);if(ki){this.bitmap=li;this.nodes=mi;return this;}return new rd(vh,li,mi);},iterate:function(vh,wh){var xh=this.nodes;for(var yh=0,zh=xh.length-1;yh<=zh;yh++)if(xh[wh?zh-yh:yh].iterate(vh,wh)===false)return false;}},{});var sd=function vh(wh,xh,yh){this.ownerID=wh;this.count=xh;this.nodes=yh;},td=sd;(l.createClass)(sd,{get:function(vh,wh,xh,yh){var zh=(vh===0?wh:wh>>>vh)&r,ai=this.nodes[zh];return ai?ai.get(vh+p,wh,xh,yh):yh;},update:function(vh,wh,xh,yh,zh,ai,bi){var ci=(wh===0?xh:xh>>>wh)&r,di=zh===s,ei=this.nodes,fi=ei[ci];if(di&&!fi)return this;var gi=fe(fi,vh,wh+p,xh,yh,zh,ai,bi);if(gi===fi)return this;var hi=this.count;if(!fi){hi++;}else if(!gi){hi--;if(hi<te)return ie(vh,ei,hi,ci);}var ii=vh&&vh===this.ownerID,ji=pe(ei,ci,gi,ii);if(ii){this.count=hi;this.nodes=ji;return this;}return new td(vh,hi,ji);},iterate:function(vh,wh){var xh=this.nodes;for(var yh=0,zh=xh.length-1;yh<=zh;yh++){var ai=xh[wh?zh-yh:yh];if(ai&&ai.iterate(vh,wh)===false)return false;}}},{});var ud=function vh(wh,xh,yh){this.ownerID=wh;this.hash=xh;this.entries=yh;},vd=ud;(l.createClass)(ud,{get:function(vh,wh,xh,yh){var zh=this.entries;for(var ai=0,bi=zh.length;ai<bi;ai++)if(m(xh,zh[ai][0]))return zh[ai][1];return yh;},update:function(vh,wh,xh,yh,zh,ai,bi){var ci=zh===s;if(xh!==this.hash){if(ci)return this;w(bi);w(ai);return he(this,vh,wh,xh,[yh,zh]);}var di=this.entries,ei=0;for(var fi=di.length;ei<fi;ei++)if(m(yh,di[ei][0]))break;var gi=ei<fi;if(ci&&!gi)return this;w(bi);(ci||!gi)&&w(ai);if(ci&&fi===2)return new wd(vh,this.hash,di[ei^1]);var hi=vh&&vh===this.ownerID,ii=hi?di:y(di);if(gi){if(ci){ei===fi-1?ii.pop():(ii[ei]=ii.pop());}else ii[ei]=[yh,zh];}else ii.push([yh,zh]);if(hi){this.entries=ii;return this;}return new vd(vh,this.hash,ii);},iterate:function(vh,wh){var xh=this.entries;for(var yh=0,zh=xh.length-1;yh<=zh;yh++)if(vh(xh[wh?zh-yh:yh])===false)return false;}},{});var wd=function vh(wh,xh,yh){this.ownerID=wh;this.hash=xh;this.entry=yh;},xd=wd;(l.createClass)(wd,{get:function(vh,wh,xh,yh){return m(xh,this.entry[0])?this.entry[1]:yh;},update:function(vh,wh,xh,yh,zh,ai,bi){var ci=zh===s,di=m(yh,this.entry[0]);if(di?zh===this.entry[1]:ci)return this;w(bi);if(ci){w(ai);return;}if(di){if(vh&&vh===this.ownerID){this.entry[1]=zh;return this;}return new xd(vh,xh,[yh,zh]);}w(ai);return he(this,vh,wh,xh,[yh,zh]);},iterate:function(vh){return vh(this.entry);}},{});var yd=function vh(wh,xh,yh){this._type=xh;this._reverse=yh;this._stack=wh._root&&ae(wh._root);};(l.createClass)(yd,{next:function(){var vh=this._type,wh=this._stack;while(wh){var xh=wh.node,yh=wh.index++,zh;if(xh.entry){if(yh===0)return zd(vh,xh.entry);}else if(xh.entries){zh=xh.entries.length-1;if(yh<=zh)return zd(vh,xh.entries[this._reverse?zh-yh:yh]);}else{zh=xh.nodes.length-1;if(yh<=zh){var ai=xh.nodes[this._reverse?zh-yh:yh];if(ai){if(ai.entry)return zd(vh,ai.entry);wh=this._stack=ae(ai,wh);}continue;}}wh=this._stack=this._stack.__prev;}return eb();}},{},bb);function zd(vh,wh){return db(vh,wh[0],wh[1]);}function ae(vh,wh){return {node:vh,index:0,__prev:wh};}function be(vh,wh,xh,yh){var zh=Object.create(pd);zh.size=vh;zh._root=wh;zh.__ownerID=xh;zh.__hash=yh;zh.__altered=false;return zh;}var ce;function de(){return ce||(ce=be(0));}function ee(vh,wh,xh){var yh=v(t),zh=v(u),ai=fe(vh._root,vh.__ownerID,0,ha(wh),wh,xh,yh,zh);if(!zh.value)return vh;var bi=vh.size+(yh.value?xh===s?-1:1:0);if(vh.__ownerID){vh.size=bi;vh._root=ai;vh.__hash=(void 0);vh.__altered=true;return vh;}return ai?be(bi,ai):de();}function fe(vh,wh,xh,yh,zh,ai,bi,ci){if(!vh){if(ai===s)return vh;w(ci);w(bi);return new wd(wh,yh,[zh,ai]);}return vh.update(wh,xh,yh,zh,ai,bi,ci);}function ge(vh){return vh.constructor===wd||vh.constructor===ud;}function he(vh,wh,xh,yh,zh){if(vh.hash===yh)return new ud(wh,yh,[vh.entry,zh]);var ai=(xh===0?vh.hash:vh.hash>>>xh)&r,bi=(xh===0?yh:yh>>>xh)&r,ci,di=ai===bi?[he(vh,wh,xh+p,yh,zh)]:((ci=new wd(wh,yh,zh)),ai<bi?[vh,ci]:[ci,vh]);return new qd(wh,(1<<ai)|(1<<bi),di);}function ie(vh,wh,xh,yh){var zh=0,ai=0,bi=new Array(xh);for(var ci=0,di=1,ei=wh.length;ci<ei;ci++,di<<=1){var fi=wh[ci];if(fi!==(void 0)&&ci!==yh){zh|=di;bi[ai++]=fi;}}return new qd(vh,zh,bi);}function je(vh,wh,xh,yh,zh){var ai=0,bi=new Array(q);for(var ci=0;xh!==0;ci++,xh>>>=1)bi[ci]=xh&1?wh[ai++]:(void 0);bi[yh]=zh;return new sd(vh,ai+1,bi);}function ke(vh,wh,xh){var yh=[];for(var zh=0;zh<xh.length;zh++){var ai=xh[zh],bi=pb(ai);if(!tb(ai))bi=bi.map((function(ci){return bd(ci);}));yh.push(bi);}return me(vh,wh,yh);}function le(vh){return (function(wh,xh){return wh&&wh.mergeDeepWith&&tb(xh)?wh.mergeDeepWith(vh,xh):vh?vh(wh,xh):xh;});}function me(vh,wh,xh){if(xh.length===0)return vh;return vh.withMutations((function(yh){var zh=wh?(function(bi,ci){yh.update(ci,s,(function(di){return di===s?bi:wh(di,bi);}));}):(function(bi,ci){yh.set(ci,bi);});for(var ai=0;ai<xh.length;ai++)xh[ai].forEach(zh);}));}function ne(vh,wh,xh,yh,zh){n(!vh||vh.set);var ai=wh[zh],bi=vh?vh.get(ai,s):s,ci=bi===s?(void 0):bi,di=zh===wh.length-1?yh(bi===s?xh:bi):ne(ci,wh,xh,yh,zh+1);return di===ci?vh:di===s?vh&&vh.remove(ai):(vh||de()).set(ai,di);}function oe(vh){vh=vh-((vh>>1)&1431655765);vh=(vh&858993459)+((vh>>2)&858993459);vh=(vh+(vh>>4))&252645135;vh=vh+(vh>>8);vh=vh+(vh>>16);return vh&127;}function pe(vh,wh,xh,yh){var zh=yh?vh:y(vh);zh[wh]=xh;return zh;}function qe(vh,wh,xh,yh){var zh=vh.length+1;if(yh&&wh+1===zh){vh[wh]=xh;return vh;}var ai=new Array(zh),bi=0;for(var ci=0;ci<zh;ci++)if(ci===wh){ai[ci]=xh;bi=-1;}else ai[ci]=vh[ci+bi];return ai;}function re(vh,wh,xh){var yh=vh.length-1;if(xh&&wh===yh){vh.pop();return vh;}var zh=new Array(yh),ai=0;for(var bi=0;bi<yh;bi++){if(bi===wh)ai=1;zh[bi]=vh[bi+ai];}return zh;}var se=q/2,te=q/4,ue=function vh(wh,xh){this._iter=wh;this._useKeys=xh;this.size=wh.size;};(l.createClass)(ue,{get:function(vh,wh){return this._iter.get(vh,wh);},has:function(vh){return this._iter.has(vh);},valueSeq:function(){return this._iter.valueSeq();},reverse:function(){var vh=this,wh=af(this,true);if(!this._useKeys)wh.valueSeq=(function(){return vh._iter.toSeq().reverse();});return wh;},map:function(vh,wh){var xh=this,yh=ze(this,vh,wh);if(!this._useKeys)yh.valueSeq=(function(){return xh._iter.toSeq().map(vh,wh);});return yh;},__iterate:function(vh,wh){var xh=this,yh;return this._iter.__iterate(this._useKeys?(function(zh,ai){return vh(zh,ai,xh);}):((yh=wh?pf(this):0),(function(zh){return vh(zh,wh?--yh:yh++,xh);})),wh);},__iterator:function(vh,wh){if(this._useKeys)return this._iter.__iterator(vh,wh);var xh=this._iter.__iterator(wa,wh),yh=wh?pf(this):0;return new bb((function(){var zh=xh.next();return zh.done?zh:db(vh,wh?--yh:yh++,zh.value,zh);}));}},{},gc);var ve=function vh(wh){this._iter=wh;this.size=wh.size;};(l.createClass)(ve,{contains:function(vh){return this._iter.contains(vh);},__iterate:function(vh,wh){var xh=this,yh=0;return this._iter.__iterate((function(zh){return vh(zh,yh++,xh);}),wh);},__iterator:function(vh,wh){var xh=this._iter.__iterator(wa,wh),yh=0;return new bb((function(){var zh=xh.next();return zh.done?zh:db(vh,yh++,zh.value,zh);}));}},{},ic);var we=function vh(wh){this._iter=wh;this.size=wh.size;};(l.createClass)(we,{has:function(vh){return this._iter.contains(vh);},__iterate:function(vh,wh){var xh=this;return this._iter.__iterate((function(yh){return vh(yh,yh,xh);}),wh);},__iterator:function(vh,wh){var xh=this._iter.__iterator(wa,wh);return new bb((function(){var yh=xh.next();return yh.done?yh:db(vh,yh.value,yh.value,yh);}));}},{},kc);var xe=function vh(wh){this._iter=wh;this.size=wh.size;};(l.createClass)(xe,{entrySeq:function(){return this._iter.toSeq();},__iterate:function(vh,wh){var xh=this;return this._iter.__iterate((function(yh){if(yh){of(yh);return vh(yh[1],yh[0],xh);}}),wh);},__iterator:function(vh,wh){var xh=this._iter.__iterator(wa,wh);return new bb((function(){while(true){var yh=xh.next();if(yh.done)return yh;var zh=yh.value;if(zh){of(zh);return vh===xa?yh:db(vh,zh[0],zh[1],yh);}}}));}},{},gc);ve.prototype.cacheResult=ue.prototype.cacheResult=we.prototype.cacheResult=xe.prototype.cacheResult=sf;function ye(vh){var wh=rf(vh);wh._iter=vh;wh.size=vh.size;wh.flip=(function(){return vh;});wh.reverse=function(){var xh=vh.reverse.apply(this);xh.flip=(function(){return vh.reverse();});return xh;};wh.has=(function(xh){return vh.contains(xh);});wh.contains=(function(xh){return vh.has(xh);});wh.cacheResult=sf;wh.__iterateUncached=function(xh,yh){var zh=this;return vh.__iterate((function(ai,bi){return xh(bi,ai,zh)!==false;}),yh);};wh.__iteratorUncached=function(xh,yh){if(xh===xa){var zh=vh.__iterator(xh,yh);return new bb((function(){var ai=zh.next();if(!ai.done){var bi=ai.value[0];ai.value[0]=ai.value[1];ai.value[1]=bi;}return ai;}));}return vh.__iterator(xh===wa?va:wa,yh);};return wh;}function ze(vh,wh,xh){var yh=rf(vh);yh.size=vh.size;yh.has=(function(zh){return vh.has(zh);});yh.get=(function(zh,ai){var bi=vh.get(zh,s);return bi===s?ai:wh.call(xh,bi,zh,vh);});yh.__iterateUncached=function(zh,ai){var bi=this;return vh.__iterate((function(ci,di,ei){return zh(wh.call(xh,ci,di,ei),di,bi)!==false;}),ai);};yh.__iteratorUncached=function(zh,ai){var bi=vh.__iterator(xa,ai);return new bb((function(){var ci=bi.next();if(ci.done)return ci;var di=ci.value,ei=di[0];return db(zh,ei,wh.call(xh,di[1],ei,vh),ci);}));};return yh;}function af(vh,wh){var xh=rf(vh);xh._iter=vh;xh.size=vh.size;xh.reverse=(function(){return vh;});if(vh.flip)xh.flip=function(){var yh=ye(vh);yh.reverse=(function(){return vh.flip();});return yh;};xh.get=(function(yh,zh){return vh.get(wh?yh:-1-yh,zh);});xh.has=(function(yh){return vh.has(wh?yh:-1-yh);});xh.contains=(function(yh){return vh.contains(yh);});xh.cacheResult=sf;xh.__iterate=function(yh,zh){var ai=this;return vh.__iterate((function(bi,ci){return yh(bi,ci,ai);}),!zh);};xh.__iterator=(function(yh,zh){return vh.__iterator(yh,!zh);});return xh;}function bf(vh,wh,xh,yh){var zh=rf(vh);if(yh){zh.has=(function(ai){var bi=vh.get(ai,s);return bi!==s&&!!wh.call(xh,bi,ai,vh);});zh.get=(function(ai,bi){var ci=vh.get(ai,s);return ci!==s&&wh.call(xh,ci,ai,vh)?ci:bi;});}zh.__iterateUncached=function(ai,bi){var ci=this,di=0;vh.__iterate((function(ei,fi,gi){if(wh.call(xh,ei,fi,gi)){di++;return ai(ei,yh?fi:di-1,ci);}}),bi);return di;};zh.__iteratorUncached=function(ai,bi){var ci=vh.__iterator(xa,bi),di=0;return new bb((function(){while(true){var ei=ci.next();if(ei.done)return ei;var fi=ei.value,gi=fi[0],hi=fi[1];if(wh.call(xh,hi,gi,vh))return db(ai,yh?gi:di++,hi,ei);}}));};return zh;}function cf(vh,wh,xh){var yh=md().asMutable();vh.__iterate((function(zh,ai){yh.update(wh.call(xh,zh,ai,vh),0,(function(bi){return bi+1;}));}));return yh.asImmutable();}function df(vh,wh,xh){var yh=ub(vh),zh=md().asMutable();vh.__iterate((function(bi,ci){zh.update(wh.call(xh,bi,ci,vh),[],(function(di){return (di.push(yh?[ci,bi]:bi),di);}));}));var ai=qf(vh);return zh.map((function(bi){return nf(vh,ai(bi));}));}function ef(vh,wh){if(wh>vh.size)return vh;if(wh<0)wh=0;var xh=rf(vh);xh.size=vh.size&&Math.min(vh.size,wh);xh.__iterateUncached=function(yh,zh){var ai=this;if(wh===0)return 0;if(zh)return this.cacheResult().__iterate(yh,zh);var bi=0;vh.__iterate((function(ci,di){return ++bi&&yh(ci,di,ai)!==false&&bi<wh;}));return bi;};xh.__iteratorUncached=function(yh,zh){if(zh)return this.cacheResult().__iterator(yh,zh);var ai=wh&&vh.__iterator(yh,zh),bi=0;return new bb((function(){if(bi++>wh)return eb();return ai.next();}));};return xh;}function ff(vh,wh,xh){var yh=rf(vh);yh.__iterateUncached=function(zh,ai){var bi=this;if(ai)return this.cacheResult().__iterate(zh,ai);var ci=0;vh.__iterate((function(di,ei,fi){return wh.call(xh,di,ei,fi)&&++ci&&zh(di,ei,bi);}));return ci;};yh.__iteratorUncached=function(zh,ai){var bi=this;if(ai)return this.cacheResult().__iterator(zh,ai);var ci=vh.__iterator(xa,ai),di=true;return new bb((function(){if(!di)return eb();var ei=ci.next();if(ei.done)return ei;var fi=ei.value,gi=fi[0],hi=fi[1];if(!wh.call(xh,hi,gi,bi)){di=false;return eb();}return zh===xa?ei:db(zh,gi,hi,ei);}));};return yh;}function gf(vh,wh,xh){if(wh<=0)return vh;var yh=rf(vh);yh.size=vh.size&&Math.max(0,vh.size-wh);yh.__iterateUncached=function(zh,ai){var bi=this;if(ai)return this.cacheResult().__iterate(zh,ai);var ci=0,di=true,ei=0;vh.__iterate((function(fi,gi){if(!(di&&(di=ci++<wh))){ei++;return zh(fi,xh?gi:ei-1,bi);}}));return ei;};yh.__iteratorUncached=function(zh,ai){if(ai)return this.cacheResult().__iterator(zh,ai);var bi=wh&&vh.__iterator(zh,ai),ci=0,di=0;return new bb((function(){while(ci<wh){ci++;bi.next();}var ei=bi.next();if(xh||zh===wa){return ei;}else if(zh===va){return db(zh,di++,(void 0),ei);}else return db(zh,di++,ei.value[1],ei);}));};return yh;}function hf(vh,wh,xh,yh){var zh=rf(vh);zh.__iterateUncached=function(ai,bi){var ci=this;if(bi)return this.cacheResult().__iterate(ai,bi);var di=true,ei=0;vh.__iterate((function(fi,gi,hi){if(!(di&&(di=wh.call(xh,fi,gi,hi)))){ei++;return ai(fi,yh?gi:ei-1,ci);}}));return ei;};zh.__iteratorUncached=function(ai,bi){var ci=this;if(bi)return this.cacheResult().__iterator(ai,bi);var di=vh.__iterator(xa,bi),ei=true,fi=0;return new bb((function(){var gi,hi,ii;do{gi=di.next();if(gi.done)if(yh||ai===wa){return gi;}else if(ai===va){return db(ai,fi++,(void 0),gi);}else return db(ai,fi++,gi.value[1],gi);var ji=gi.value;hi=ji[0];ii=ji[1];ei&&(ei=wh.call(xh,ii,hi,ci));}while(ei);return ai===xa?gi:db(ai,hi,ii,gi);}));};return zh;}function jf(vh,wh){var xh=ub(vh),yh=new nc([vh].concat(wh)).map((function(ai){if(!tb(ai)){ai=xh?uc(ai):vc(Array.isArray(ai)?ai:[ai]);}else if(xh)ai=pb(ai);return ai;}));if(xh){yh=yh.toKeyedSeq();}else if(!vb(vh))yh=yh.toSetSeq();var zh=yh.flatten(true);zh.size=yh.reduce((function(ai,bi){if(ai!==(void 0)){var ci=bi.size;if(ci!==(void 0))return ai+ci;}}),0);return zh;}function kf(vh,wh,xh){var yh=rf(vh);yh.__iterateUncached=function(zh,ai){var bi=0,ci=false;function di(ei,fi){var gi=this;ei.__iterate((function(hi,ii){if((!wh||fi<wh)&&tb(hi)){di(hi,fi+1);}else if(zh(hi,xh?ii:bi++,gi)===false)ci=true;return !ci;}),ai);}di(vh,0);return bi;};yh.__iteratorUncached=function(zh,ai){var bi=vh.__iterator(zh,ai),ci=[],di=0;return new bb((function(){while(bi){var ei=bi.next();if(ei.done!==false){bi=ci.pop();continue;}var fi=ei.value;if(zh===xa)fi=fi[1];if((!wh||ci.length<wh)&&tb(fi)){ci.push(bi);bi=fi.__iterator(zh,ai);}else return xh?ei:db(zh,di++,fi,ei);}return eb();}));};return yh;}function lf(vh,wh,xh){var yh=qf(vh);return vh.toSeq().map((function(zh,ai){return yh(wh.call(xh,zh,ai,vh));})).flatten(true);}function mf(vh,wh){var xh=rf(vh);xh.size=vh.size&&vh.size*2-1;xh.__iterateUncached=function(yh,zh){var ai=this,bi=0;vh.__iterate((function(ci,di){return (!bi||yh(wh,bi++,ai)!==false)&&yh(ci,bi++,ai)!==false;}),zh);return bi;};xh.__iteratorUncached=function(yh,zh){var ai=vh.__iterator(wa,zh),bi=0,ci;return new bb((function(){if(!ci||bi%2){ci=ai.next();if(ci.done)return ci;}return bi%2?db(yh,bi++,wh):db(yh,bi++,ci.value,ci);}));};return xh;}function nf(vh,wh){return rc(vh)?wh:vh.constructor(wh);}function of(vh){if(vh!==Object(vh))throw new TypeError('Expected [K, V] tuple: '+vh);}function pf(vh){z(vh.size);return aa(vh);}function qf(vh){return ub(vh)?pb:vb(vh)?rb:sb;}function rf(vh){return Object.create((ub(vh)?gc:vb(vh)?ic:kc).prototype);}function sf(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this;}else return ec.prototype.cacheResult.call(this);}var tf=function vh(wh){var xh=eg();if(wh===null||wh===(void 0))return xh;if(uf(wh))return wh;wh=rb(wh);var yh=wh.size;if(yh===0)return xh;if(yh>0&&yh<q)return cg(0,yh,p,null,new xf(wh.toArray()));return xh.merge(wh);};(l.createClass)(tf,{toString:function(){return this.__toString('List [',']');},get:function(vh,wh){vh=ba(this,vh);if(vh<0||vh>=this.size)return wh;vh+=this._origin;var xh=ig(this,vh);return xh&&xh.array[vh&r];},set:function(vh,wh){return fg(this,vh,wh);},remove:function(vh){return !this.has(vh)?this:vh===0?this.shift():vh===this.size-1?this.pop():this.splice(vh,1);},clear:function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=p;this._root=this._tail=null;this.__hash=(void 0);this.__altered=true;return this;}return eg();},push:function(){var vh=arguments,wh=this.size;return this.withMutations((function(xh){jg(xh,0,wh+vh.length);for(var yh=0;yh<vh.length;yh++)xh.set(wh+yh,vh[yh]);}));},pop:function(){return jg(this,0,-1);},unshift:function(){var vh=arguments;return this.withMutations((function(wh){jg(wh,-vh.length);for(var xh=0;xh<vh.length;xh++)wh.set(xh,vh[xh]);}));},shift:function(){return jg(this,1);},merge:function(){return kg(this,(void 0),arguments);},mergeWith:function(vh){for(var wh=[],xh=1;xh<arguments.length;xh++)wh[xh-1]=arguments[xh];return kg(this,vh,wh);},mergeDeep:function(){return kg(this,le((void 0)),arguments);},mergeDeepWith:function(vh){for(var wh=[],xh=1;xh<arguments.length;xh++)wh[xh-1]=arguments[xh];return kg(this,le(vh),wh);},setSize:function(vh){return jg(this,0,vh);},slice:function(vh,wh){var xh=this.size;if(da(vh,wh,xh))return this;return jg(this,ea(vh,xh),fa(wh,xh));},__iterator:function(vh,wh){return new ag(this,vh,wh);},__iterate:function(vh,wh){var xh=this,yh=0,zh=(function(bi){return vh(bi,yh++,xh);}),ai=lg(this._capacity);if(wh){zf(this._tail,0,ai-this._origin,this._capacity-this._origin,zh,wh)&&zf(this._root,this._level,-this._origin,ai-this._origin,zh,wh);}else zf(this._root,this._level,-this._origin,ai-this._origin,zh,wh)&&zf(this._tail,0,ai-this._origin,this._capacity-this._origin,zh,wh);return yh;},__ensureOwner:function(vh){if(vh===this.__ownerID)return this;if(!vh){this.__ownerID=vh;return this;}return cg(this._origin,this._capacity,this._level,this._root,this._tail,vh,this.__hash);}},{of:function(){return this(arguments);}},id);function uf(vh){return !!(vh&&vh[vf]);}tf.isList=uf;var vf='@@__IMMUTABLE_LIST__@@',wf=tf.prototype;wf[vf]=true;wf[o]=wf.remove;wf.setIn=pd.setIn;wf.removeIn=pd.removeIn;wf.update=pd.update;wf.updateIn=pd.updateIn;wf.withMutations=pd.withMutations;wf.asMutable=pd.asMutable;wf.asImmutable=pd.asImmutable;wf.wasAltered=pd.wasAltered;var xf=function vh(wh,xh){this.array=wh;this.ownerID=xh;},yf=xf;(l.createClass)(xf,{removeBefore:function(vh,wh,xh){if(xh===wh?1<<wh:this.array.length===0)return this;var yh=(xh>>>wh)&r;if(yh>=this.array.length)return new yf([],vh);var zh=yh===0,ai;if(wh>0){var bi=this.array[yh];ai=bi&&bi.removeBefore(vh,wh-p,xh);if(ai===bi&&zh)return this;}if(zh&&!ai)return this;var ci=hg(this,vh);if(!zh)for(var di=0;di<yh;di++)ci.array[di]=(void 0);if(ai)ci.array[yh]=ai;return ci;},removeAfter:function(vh,wh,xh){if(xh===wh?1<<wh:this.array.length===0)return this;var yh=((xh-1)>>>wh)&r;if(yh>=this.array.length)return this;var zh=yh===this.array.length-1,ai;if(wh>0){var bi=this.array[yh];ai=bi&&bi.removeAfter(vh,wh-p,xh);if(ai===bi&&zh)return this;}if(zh&&!ai)return this;var ci=hg(this,vh);if(!zh)ci.array.pop();if(ai)ci.array[yh]=ai;return ci;}},{});function zf(vh,wh,xh,yh,zh,ai){var bi,ci=vh&&vh.array;if(wh===0){var di=xh<0?-xh:0,ei=yh-xh;if(ei>q)ei=q;for(bi=di;bi<ei;bi++)if(zh(ci&&ci[ai?di+ei-1-bi:bi])===false)return false;}else{var fi=1<<wh,gi=wh-p;for(bi=0;bi<=r;bi++){var hi=ai?r-bi:bi,ii=xh+(hi<<wh);if(ii<yh&&ii+fi>0){var ji=ci&&ci[hi];if(!zf(ji,gi,ii,yh,zh,ai))return false;}}}return true;}var ag=function vh(wh,xh,yh){this._type=xh;this._reverse=!!yh;this._maxIndex=wh.size-1;var zh=lg(wh._capacity),ai=bg(wh._root&&wh._root.array,wh._level,-wh._origin,zh-wh._origin-1),bi=bg(wh._tail&&wh._tail.array,0,zh-wh._origin,wh._capacity-wh._origin-1);this._stack=yh?bi:ai;this._stack.__prev=yh?ai:bi;};(l.createClass)(ag,{next:function(){var vh=this._stack;while(vh){var wh=vh.array,xh=vh.index++;if(this._reverse){xh=r-xh;if(xh>vh.rawMax){xh=vh.rawMax;vh.index=q-xh;}}if(xh>=0&&xh<q&&xh<=vh.rawMax){var yh=wh&&wh[xh];if(vh.level===0){var zh=this._type,ai;if(zh!==1){ai=vh.offset+(xh<<vh.level);if(this._reverse)ai=this._maxIndex-ai;}return db(zh,ai,yh);}else this._stack=vh=bg(yh&&yh.array,vh.level-p,vh.offset+(xh<<vh.level),vh.max,vh);continue;}vh=this._stack=this._stack.__prev;}return eb();}},{},bb);function bg(vh,wh,xh,yh,zh){return {array:vh,level:wh,offset:xh,max:yh,rawMax:((yh-xh)>>wh),index:0,__prev:zh};}function cg(vh,wh,xh,yh,zh,ai,bi){var ci=Object.create(wf);ci.size=wh-vh;ci._origin=vh;ci._capacity=wh;ci._level=xh;ci._root=yh;ci._tail=zh;ci.__ownerID=ai;ci.__hash=bi;ci.__altered=false;return ci;}var dg;function eg(){return dg||(dg=cg(0,0,p));}function fg(vh,wh,xh){wh=ba(vh,wh);if(wh>=vh.size||wh<0)return vh.withMutations((function(bi){wh<0?jg(bi,wh).set(0,xh):jg(bi,0,wh+1).set(wh,xh);}));wh+=vh._origin;var yh=vh._tail,zh=vh._root,ai=v(u);if(wh>=lg(vh._capacity)){yh=gg(yh,vh.__ownerID,0,wh,xh,ai);}else zh=gg(zh,vh.__ownerID,vh._level,wh,xh,ai);if(!ai.value)return vh;if(vh.__ownerID){vh._root=zh;vh._tail=yh;vh.__hash=(void 0);vh.__altered=true;return vh;}return cg(vh._origin,vh._capacity,vh._level,zh,yh);}function gg(vh,wh,xh,yh,zh,ai){var bi=(yh>>>xh)&r,ci=vh&&bi<vh.array.length;if(!ci&&zh===(void 0))return vh;var di;if(xh>0){var ei=vh&&vh.array[bi],fi=gg(ei,wh,xh-p,yh,zh,ai);if(fi===ei)return vh;di=hg(vh,wh);di.array[bi]=fi;return di;}if(ci&&vh.array[bi]===zh)return vh;w(ai);di=hg(vh,wh);if(zh===(void 0)&&bi===di.array.length-1){di.array.pop();}else di.array[bi]=zh;return di;}function hg(vh,wh){if(wh&&vh&&wh===vh.ownerID)return vh;return new xf(vh?vh.array.slice():[],wh);}function ig(vh,wh){if(wh>=lg(vh._capacity))return vh._tail;if(wh<1<<(vh._level+p)){var xh=vh._root,yh=vh._level;while(xh&&yh>0){xh=xh.array[(wh>>>yh)&r];yh-=p;}return xh;}}function jg(vh,wh,xh){var yh=vh.__ownerID||new x(),zh=vh._origin,ai=vh._capacity,bi=zh+wh,ci=xh===(void 0)?ai:xh<0?ai+xh:zh+xh;if(bi===zh&&ci===ai)return vh;if(bi>=ci)return vh.clear();var di=vh._level,ei=vh._root,fi=0;while(bi+fi<0){ei=new xf(ei&&ei.array.length?[(void 0),ei]:[],yh);di+=p;fi+=1<<di;}if(fi){bi+=fi;zh+=fi;ci+=fi;ai+=fi;}var gi=lg(ai),hi=lg(ci);while(hi>=1<<(di+p)){ei=new xf(ei&&ei.array.length?[ei]:[],yh);di+=p;}var ii=vh._tail,ji=hi<gi?ig(vh,ci-1):hi>gi?new xf([],yh):ii;if(ii&&hi>gi&&bi<ai&&ii.array.length){ei=hg(ei,yh);var ki=ei;for(var li=di;li>p;li-=p){var mi=(gi>>>li)&r;ki=ki.array[mi]=hg(ki.array[mi],yh);}ki.array[(gi>>>p)&r]=ii;}if(ci<ai)ji=ji&&ji.removeAfter(yh,0,ci);if(bi>=hi){bi-=hi;ci-=hi;di=p;ei=null;ji=ji&&ji.removeBefore(yh,0,bi);}else if(bi>zh||hi<gi){fi=0;while(ei){var ni=(bi>>>di)&r;if(ni!==(hi>>>di)&r)break;if(ni)fi+=(1<<di)*ni;di-=p;ei=ei.array[ni];}if(ei&&bi>zh)ei=ei.removeBefore(yh,di,bi-fi);if(ei&&hi<gi)ei=ei.removeAfter(yh,di,hi-fi);if(fi){bi-=fi;ci-=fi;}}if(vh.__ownerID){vh.size=ci-bi;vh._origin=bi;vh._capacity=ci;vh._level=di;vh._root=ei;vh._tail=ji;vh.__hash=(void 0);vh.__altered=true;return vh;}return cg(bi,ci,di,ei,ji);}function kg(vh,wh,xh){var yh=[],zh=0;for(var ai=0;ai<xh.length;ai++){var bi=xh[ai],ci=rb(bi);if(ci.size>zh)zh=ci.size;if(!tb(bi))ci=ci.map((function(di){return bd(di);}));yh.push(ci);}if(zh>vh.size)vh=vh.setSize(zh);return me(vh,wh,yh);}function lg(vh){return vh<q?0:(((vh-1)>>>p)<<p);}var mg=function vh(wh){return wh===null||wh===(void 0)?tg():og(wh)?wh:tg().unshiftAll(wh);},ng=mg;(l.createClass)(mg,{toString:function(){return this.__toString('Stack [',']');},get:function(vh,wh){var xh=this._head;while(xh&&vh--)xh=xh.next;return xh?xh.value:wh;},peek:function(){return this._head&&this._head.value;},push:function(){if(arguments.length===0)return this;var vh=this.size+arguments.length,wh=this._head;for(var xh=arguments.length-1;xh>=0;xh--)wh={value:arguments[xh],next:wh};if(this.__ownerID){this.size=vh;this._head=wh;this.__hash=(void 0);this.__altered=true;return this;}return rg(vh,wh);},pushAll:function(vh){vh=rb(vh);if(vh.size===0)return this;var wh=this.size,xh=this._head;vh.reverse().forEach((function(yh){wh++;xh={value:yh,next:xh};}));if(this.__ownerID){this.size=wh;this._head=xh;this.__hash=(void 0);this.__altered=true;return this;}return rg(wh,xh);},pop:function(){return this.slice(1);},unshift:function(){return this.push.apply(this,arguments);},unshiftAll:function(vh){return this.pushAll(vh);},shift:function(){return this.pop.apply(this,arguments);},clear:function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=(void 0);this.__hash=(void 0);this.__altered=true;return this;}return tg();},slice:function(vh,wh){if(da(vh,wh,this.size))return this;var xh=ea(vh,this.size),yh=fa(wh,this.size);if(yh!==this.size)return l.superCall(this,ng.prototype,"slice",[vh,wh]);var zh=this.size-xh,ai=this._head;while(xh--)ai=ai.next;if(this.__ownerID){this.size=zh;this._head=ai;this.__hash=(void 0);this.__altered=true;return this;}return rg(zh,ai);},__ensureOwner:function(vh){if(vh===this.__ownerID)return this;if(!vh){this.__ownerID=vh;this.__altered=false;return this;}return rg(this.size,this._head,vh,this.__hash);},__iterate:function(vh,wh){if(wh)return this.toSeq().cacheResult.__iterate(vh,wh);var xh=0,yh=this._head;while(yh){if(vh(yh.value,xh++,this)===false)break;yh=yh.next;}return xh;},__iterator:function(vh,wh){if(wh)return this.toSeq().cacheResult().__iterator(vh,wh);var xh=0,yh=this._head;return new bb((function(){if(yh){var zh=yh.value;yh=yh.next;return db(vh,xh++,zh);}return eb();}));}},{of:function(){return this(arguments);}},id);function og(vh){return !!(vh&&vh[pg]);}mg.isStack=og;var pg='@@__IMMUTABLE_STACK__@@',qg=mg.prototype;qg[pg]=true;qg.withMutations=pd.withMutations;qg.asMutable=pd.asMutable;qg.asImmutable=pd.asImmutable;qg.wasAltered=pd.wasAltered;function rg(vh,wh,xh,yh){var zh=Object.create(qg);zh.size=vh;zh._head=wh;zh.__ownerID=xh;zh.__hash=yh;zh.__altered=false;return zh;}var sg;function tg(){return sg||(sg=rg(0));}var ug=function vh(wh){return wh===null||wh===(void 0)?ah():vg(wh)?wh:ah().union(wh);};(l.createClass)(ug,{toString:function(){return this.__toString('Set {','}');},has:function(vh){return this._map.has(vh);},add:function(vh){var wh=this._map.set(vh,true);if(this.__ownerID){this.size=wh.size;this._map=wh;return this;}return wh===this._map?this:yg(wh);},remove:function(vh){var wh=this._map.remove(vh);if(this.__ownerID){this.size=wh.size;this._map=wh;return this;}return wh===this._map?this:wh.size===0?ah():yg(wh);},clear:function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();return this;}return ah();},union:function(){var vh=arguments;if(vh.length===0)return this;return this.withMutations((function(wh){for(var xh=0;xh<vh.length;xh++)sb(vh[xh]).forEach((function(yh){return wh.add(yh);}));}));},intersect:function(){for(var vh=[],wh=0;wh<arguments.length;wh++)vh[wh]=arguments[wh];if(vh.length===0)return this;vh=vh.map((function(yh){return sb(yh);}));var xh=this;return this.withMutations((function(yh){xh.forEach((function(zh){if(!vh.every((function(ai){return ai.contains(zh);})))yh.remove(zh);}));}));},subtract:function(){for(var vh=[],wh=0;wh<arguments.length;wh++)vh[wh]=arguments[wh];if(vh.length===0)return this;vh=vh.map((function(yh){return sb(yh);}));var xh=this;return this.withMutations((function(yh){xh.forEach((function(zh){if(vh.some((function(ai){return ai.contains(zh);})))yh.remove(zh);}));}));},merge:function(){return this.union.apply(this,arguments);},mergeWith:function(vh){for(var wh=[],xh=1;xh<arguments.length;xh++)wh[xh-1]=arguments[xh];return this.union.apply(this,wh);},wasAltered:function(){return this._map.wasAltered();},__iterate:function(vh,wh){var xh=this;return this._map.__iterate((function(yh,zh){return vh(zh,zh,xh);}),wh);},__iterator:function(vh,wh){return this._map.map((function(xh,yh){return yh;})).__iterator(vh,wh);},__ensureOwner:function(vh){if(vh===this.__ownerID)return this;var wh=this._map.__ensureOwner(vh);if(!vh){this.__ownerID=vh;this._map=wh;return this;}return yg(wh,vh);}},{of:function(){return this(arguments);},fromKeys:function(vh){return this(gc(vh).flip().valueSeq());}},kd);function vg(vh){return !!(vh&&vh[wg]);}ug.isSet=vg;var wg='@@__IMMUTABLE_SET__@@',xg=ug.prototype;xg[wg]=true;xg[o]=xg.remove;xg.mergeDeep=xg.merge;xg.mergeDeepWith=xg.mergeWith;xg.withMutations=pd.withMutations;xg.asMutable=pd.asMutable;xg.asImmutable=pd.asImmutable;function yg(vh,wh){var xh=Object.create(xg);xh.size=vh?vh.size:0;xh._map=vh;xh.__ownerID=wh;return xh;}var zg;function ah(){return zg||(zg=yg(de()));}var bh=function vh(wh){return wh===null||wh===(void 0)?gh():ch(wh)?wh:gh().merge(pb(wh));};(l.createClass)(bh,{toString:function(){return this.__toString('OrderedMap {','}');},get:function(vh,wh){var xh=this._map.get(vh);return xh!==(void 0)?this._list.get(xh)[1]:wh;},clear:function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this;}return gh();},set:function(vh,wh){return hh(this,vh,wh);},remove:function(vh){return hh(this,vh,s);},wasAltered:function(){return this._map.wasAltered()||this._list.wasAltered();},__iterate:function(vh,wh){var xh=this;return this._list.__iterate((function(yh){return yh&&vh(yh[1],yh[0],xh);}),wh);},__iterator:function(vh,wh){return this._list.fromEntrySeq().__iterator(vh,wh);},__ensureOwner:function(vh){if(vh===this.__ownerID)return this;var wh=this._map.__ensureOwner(vh),xh=this._list.__ensureOwner(vh);if(!vh){this.__ownerID=vh;this._map=wh;this._list=xh;return this;}return eh(wh,xh,vh,this.__hash);}},{of:function(){return this(arguments);}},md);function ch(vh){return !!(vh&&vh[dh]);}bh.isOrderedMap=ch;var dh='@@__IMMUTABLE_ORDERED_MAP__@@';bh.prototype[dh]=true;bh.prototype[o]=bh.prototype.remove;function eh(vh,wh,xh,yh){var zh=Object.create(bh.prototype);zh.size=vh?vh.size:0;zh._map=vh;zh._list=wh;zh.__ownerID=xh;zh.__hash=yh;return zh;}var fh;function gh(){return fh||(fh=eh(de(),eg()));}function hh(vh,wh,xh){var yh=vh._map,zh=vh._list,ai=yh.get(wh),bi=ai!==(void 0),ci=xh===s;if((!bi&&ci)||(bi&&xh===zh.get(ai)[1]))return vh;if(!bi)ai=zh.size;var di=ci?yh.remove(wh):bi?yh:yh.set(wh,ai),ei=ci?zh.set(ai,(void 0)):zh.set(ai,[wh,xh]);if(vh.__ownerID){vh.size=di.size;vh._map=di;vh._list=ei;vh.__hash=(void 0);return vh;}return eh(di,ei);}var ih=function vh(wh,xh){var yh=function ci(di){if(!(this instanceof yh))return new yh(di);this._map=md(di);},zh=Object.keys(wh),ai=yh.prototype=Object.create(jh);ai.constructor=yh;xh&&(ai._name=xh);ai._defaultValues=wh;ai._keys=zh;ai.size=zh.length;try{zh.forEach((function(ci){Object.defineProperty(yh.prototype,ci,{get:function(){return this.get(ci);},set:function(di){n(this.__ownerID);this.set(ci,di);}});}));}catch(bi){}return yh;};(l.createClass)(ih,{toString:function(){return this.__toString(lh(this)+' {','}');},has:function(vh){return this._defaultValues.hasOwnProperty(vh);},get:function(vh,wh){if(wh!==(void 0)&&!this.has(vh))return wh;var xh=this._defaultValues[vh];return this._map?this._map.get(vh,xh):xh;},clear:function(){if(this.__ownerID){this._map&&this._map.clear();return this;}var vh=Object.getPrototypeOf(this).constructor;return vh._empty||(vh._empty=kh(this,de()));},set:function(vh,wh){if(!this.has(vh))throw new Error('Cannot set unknown key "'+vh+'" on '+lh(this));var xh=this._map&&this._map.set(vh,wh);if(this.__ownerID||xh===this._map)return this;return kh(this,xh);},remove:function(vh){if(!this.has(vh))return this;var wh=this._map&&this._map.remove(vh);if(this.__ownerID||wh===this._map)return this;return kh(this,wh);},wasAltered:function(){return this._map.wasAltered();},__iterator:function(vh,wh){var xh=this;return pb(this._defaultValues).map((function(yh,zh){return xh.get(zh);})).__iterator(vh,wh);},__iterate:function(vh,wh){var xh=this;return pb(this._defaultValues).map((function(yh,zh){return xh.get(zh);})).__iterate(vh,wh);},__ensureOwner:function(vh){if(vh===this.__ownerID)return this;var wh=this._map&&this._map.__ensureOwner(vh);if(!vh){this.__ownerID=vh;this._map=wh;return this;}return kh(this,wh,vh);}},{},gd);var jh=ih.prototype;jh[o]=jh.remove;jh.merge=pd.merge;jh.mergeWith=pd.mergeWith;jh.mergeDeep=pd.mergeDeep;jh.mergeDeepWith=pd.mergeDeepWith;jh.update=pd.update;jh.updateIn=pd.updateIn;jh.withMutations=pd.withMutations;jh.asMutable=pd.asMutable;jh.asImmutable=pd.asImmutable;function kh(vh,wh,xh){var yh=Object.create(Object.getPrototypeOf(vh));yh._map=wh;yh.__ownerID=xh;return yh;}function lh(vh){return vh._name||vh.constructor.name;}var mh=function vh(wh,xh,yh){if(!(this instanceof nh))return new nh(wh,xh,yh);n(yh!==0);wh=wh||0;if(xh===(void 0))xh=Infinity;if(wh===xh&&ph)return ph;yh=yh===(void 0)?1:Math.abs(yh);if(xh<wh)yh=-yh;this._start=wh;this._end=xh;this._step=yh;this.size=Math.max(0,Math.ceil((xh-wh)/yh-1)+1);},nh=mh;(l.createClass)(mh,{toString:function(){if(this.size===0)return 'Range []';return 'Range [ '+this._start+'...'+this._end+(this._step>1?' by '+this._step:'')+' ]';},get:function(vh,wh){return this.has(vh)?this._start+ba(this,vh)*this._step:wh;},contains:function(vh){var wh=(vh-this._start)/this._step;return wh>=0&&wh<this.size&&wh===Math.floor(wh);},slice:function(vh,wh){if(da(vh,wh,this.size))return this;vh=ea(vh,this.size);wh=fa(wh,this.size);if(wh<=vh)return ph;return new nh(this.get(vh,this._end),this.get(wh,this._end),this._step);},indexOf:function(vh){var wh=vh-this._start;if(wh%this._step===0){var xh=wh/this._step;if(xh>=0&&xh<this.size)return xh;}return -1;},lastIndexOf:function(vh){return this.indexOf(vh);},take:function(vh){return this.slice(0,Math.max(0,vh));},skip:function(vh){return this.slice(Math.max(0,vh));},__iterate:function(vh,wh){var xh=this.size-1,yh=this._step,zh=wh?this._start+xh*yh:this._start;for(var ai=0;ai<=xh;ai++){if(vh(zh,ai,this)===false)return ai+1;zh+=wh?-yh:yh;}return ai;},__iterator:function(vh,wh){var xh=this.size-1,yh=this._step,zh=wh?this._start+xh*yh:this._start,ai=0;return new bb((function(){var bi=zh;zh+=wh?-yh:yh;return ai>xh?eb():db(vh,ai++,bi);}));},__deepEquals:function(vh){return vh instanceof nh?this._start===vh._start&&this._end===vh._end&&this._step===vh._step:l.superCall(this,nh.prototype,"__deepEquals",[vh]);}},{},ic);var oh=mh.prototype;oh.__toJS=oh.toArray;oh.first=wf.first;oh.last=wf.last;var ph=mh(0,0),qh=function vh(wh,xh){if(xh<=0&&th)return th;if(!(this instanceof rh))return new rh(wh,xh);this._value=wh;this.size=xh===(void 0)?Infinity:Math.max(0,xh);if(this.size===0)th=this;},rh=qh;(l.createClass)(qh,{toString:function(){if(this.size===0)return 'Repeat []';return 'Repeat [ '+this._value+' '+this.size+' times ]';},get:function(vh,wh){return this.has(vh)?this._value:wh;},contains:function(vh){return m(this._value,vh);},slice:function(vh,wh){var xh=this.size;return da(vh,wh,xh)?this:new rh(this._value,fa(wh,xh)-ea(vh,xh));},reverse:function(){return this;},indexOf:function(vh){if(m(this._value,vh))return 0;return -1;},lastIndexOf:function(vh){if(m(this._value,vh))return this.size;return -1;},__iterate:function(vh,wh){for(var xh=0;xh<this.size;xh++)if(vh(this._value,xh,this)===false)return xh+1;return xh;},__iterator:function(vh,wh){var xh=this,yh=0;return new bb((function(){return yh<xh.size?db(vh,yh++,xh._value):eb();}));},__deepEquals:function(vh){return vh instanceof rh?m(this._value,vh._value):l.superCall(this,rh.prototype,"__deepEquals",[vh]);}},{},ic);var sh=qh.prototype;sh.last=sh.first;sh.has=oh.has;sh.take=oh.take;sh.skip=oh.skip;sh.__toJS=oh.__toJS;var th,uh={Iterable:jb,Seq:ec,Collection:fd,Map:md,List:tf,Stack:mg,Set:ug,OrderedMap:bh,Record:ih,Range:mh,Repeat:qh,is:m,fromJS:bd};return uh;}typeof f==='object'?e.exports=g():typeof define==='function'&&define.amd?define(g):Immutable=g();},null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j.PropTypes,m=false,n=h.isRTL(),o,p,q,r,s=5,t=j.createClass({displayName:"MentionsLayer",propTypes:Object.assign({},i,{typeaheadView:l.func.isRequired,typeaheadViewProps:l.object}),getInitialState:function(){return {bootloaded:m};},componentWillMount:function(){if(!this.state.bootloaded)u(function(){this.isMounted()&&this.setState({bootloaded:true});}.bind(this));},_onMentionSelect:function(v,w){w.preventDefault();this.props.onMentionSelect(v,w);},shouldComponentUpdate:function(v,w){return (this.state.bootloaded!==w.bootloaded||!k(this.props.mentionableEntries,v.mentionableEntries)||this.props.highlightedMentionable!==v.highlightedMentionable||this.props.characterOffset!==v.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var v=this.props.mentionableEntries,w=this.props.selection,x=(w.isCollapsed()&&w.getHasFocus()&&v&&v.length),y=null,z=this.props.typeaheadViewProps,aa=false,ba=false;if(z&&z.positionAtContext){aa=true;ba=true;}else if(x)y=r(this.props.characterOffset,n);var ca={};if(this.props.autoflip){ca.ContextualLayerAutoFlip=p;ca.ContextualLayerUpdateOnScroll=q;}var da=this.props.typeaheadView;return (j.createElement(o,{shown:x,context:this.props.contextComponent,contextBounds:y,containerWidthMatchContext:ba,offsetY:s,position:"below",behaviors:ca},j.createElement(da,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:v||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})));}});function u(v){g.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(w,x,y,z){o=w;p=x;q=y;r=z;m=true;v();});}e.exports=t;},null);
__d("HovercardLink",["Bootloader","URI"],function(a,b,c,d,e,f,g,h){var i={getBaseURI:function(){return h('/ajax/hovercard/hovercard.php');},constructEndpoint:function(j,k){return i.constructEndpointWithGroupAndLocation(j,k,null);},constructEndpointWithLocation:function(j,k){return i.constructEndpointWithGroupAndLocation(j,null,k);},constructEndpointWithGroupAndLocation:function(j,k,l,m){g.loadModules(["Hovercard"],function(){});var n=new h(i.getBaseURI()).setQueryData({id:j.id}),o={};if((j.weakreference||m)&&k)o.group_id=k;if(l)o.hc_location=l;n.addQueryData({extragetparams:JSON.stringify(o)});return n;}};e.exports=i;},null);
__d("NumberFormat",["NumberFormatConfig"],function(a,b,c,d,e,f,g){var h=/(\d{3})(?=\d)/g;function i(l){return (''+l).split('').reverse().join('');}function j(l,m){if(Math.abs(l).toString().length<g.minDigitsForThousandsSeparator)return l.toString();var n=i(l);return i(n.replace(h,'$1'+m));}var k={formatIntegerWithDelimiter:j,formatInteger:function(l){return j(l,g.numberDelimiter);}};e.exports=k;},null);
__d("loadImage",[],function(a,b,c,d,e,f){"use strict";function g(h,i){var j=new Image();j.onload=function(){i(j.width,j.height,j);};j.src=h;}e.exports=g;},null);
__d("PhotoResizeMath",[],function(a,b,c,d,e,f){var g={getScaledPhotoDimensions:function(h,i,j,k,l){var m=h/i,n=j/k;if(j&&k&&l==='stretch')return {width:j,height:k};if((!j&&k)||((l==='contain')!==(m>=n)))return {width:k*m,height:k};if(j)return {width:j,height:j/m};return {width:h,height:i};}};e.exports=g;},null);
__d("PixelzFocus",[],function(a,b,c,d,e,f){"use strict";var g={search:function(h,i){var j=0,k=h.length-1;while(j<=k){var l=j+Math.floor((k-j)/2),m=h[l];if(m>i){k=l-1;}else if(m<i){j=l+1;}else return l;}return Math.min(j,k);},forceSpecificPoint:function(h,i,j){var k=1e-09,l=g.search(h,i-j-k)+1,m=g.search(h,i+j);return h.slice(l,m+1);},findBiggestSets:function(h,i){var j=[],k=-1;for(var l=0;l<h.length;++l){var m=h[l],n=l,o=g.search(h,m+i),p=o-n;if(p>k)j=[];if(p>=k){k=p;j.push({low:n,high:o});}}return j;},getBestSet:function(h,i,j){var k=-1,l=null;for(var m=0;m<i.length;++m){var n=i[m],o=h[n.low],p=h[n.high],q=o+(p-o)/2,r=Math.min(o-(q-j),(q+j)-p);if(r>k){k=r;l=n;}}return l;},getFocusFromSet:function(h,i){var j=h[i.low],k=h[i.high];return j+(k-j)/2;},clampFocus:function(h,i){var j=i/2,k=1-(i/2);if(h<j)return j;if(h>k)return k;return h;},convertFromCenterToCSS:function(h,i){if(Math.abs(1-i)<1e-05)return 0;return (h-i/2)/(1-i);},convertFromCSSToCenter:function(h,i){return h*(1-i)+i/2;},getVisible:function(h,i){if(h<i)return h/i;return i/h;},getHidden:function(h,i){return 1-g.getVisible(h,i);},focusHorizontally:function(h,i){return h<i;},convertVectorFromCenterToCSS:function(h,i,j){var k=g.focusHorizontally(i,j),l;if(k){l=h.x/100;}else l=h.x/100;var m=g.convertFromCenterToCSS(l,g.getVisible(i,j));if(k){return {x:m,y:0};}else return {x:0,y:m};},getCropRect:function(h,i,j){var k=g.focusHorizontally(i,j),l=g.getVisible(i,j);if(k){var m=(1-l)*h.x;return {left:m,top:0,width:l,height:1};}else{var n=(1-l)*h.y;return {left:0,top:n,width:1,height:l};}}};e.exports=g;},null);
__d("Pixelz.react",["arrayContains","copyProperties","cx","loadImage","joinClasses","React","PhotoResizeMath","PixelzFocus"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o=l.PropTypes,p=l.createClass({displayName:"Pixelz",propTypes:{width:o.number,height:o.number,resizeMode:o.oneOf(['contain','cover','stretch']),alt:o.string,letterbox:o.bool,borderRadius:o.number,insetBorderColor:o.string,animated:o.bool,upscale:o.bool,cropRect:function(q,r,s){var t=q[r],u='Invalid prop `'+r+'` supplied to `'+s+'`, expected a rectangle with values normalized '+'between 0 and 1.';if(t.left<0||t.top<0||t.width<0||t.height<0||t.left+t.width>1||t.top+t.height>1)return new Error(u);},focus:function(q,r,s){var t=q[r],u='Invalid prop `'+r+'` supplied to `'+s+'`, expected either a {x, y, type} vector where type '+'is `css` or `center` or an array of {x, y} vectors. All the vectors '+'have with values normalized between 0 and 1.';if(Array.isArray(t)){for(var v=0;v<t.length;++v)if(!(t[v].x>=0&&t[v].x<=1)||!(t[v].y>=0&&t[v].y<=1))return new Error(u);}else{if(!t.type)t.type='css';if(!(t.x>=0&&t.x<=1)||!(t.y>=0&&t.y<=1)||!g(['center','css'],t.type))return new Error(u);}}},getDefaultProps:function(){return {resizeMode:'cover',alt:'',letterbox:true,upscale:true,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:'css'}};},getInitialState:function(){return {srcDimensions:{}};},getSrcDimensions:function(){var q=this.props.src,r=this.state.srcDimensions[q];if(r)return r;j(q,function(s,t){var u={};u[q]={width:s,height:t};this.isMounted()&&this.setState({srcDimensions:u});}.bind(this));return null;},getCropSrcDimensions:function(){var q=this.getSrcDimensions();return {width:q.width*this.props.cropRect.width,height:q.height*this.props.cropRect.height};},getUpscaleCropDimensions:function(){var q=this.getCropSrcDimensions();return m.getScaledPhotoDimensions(q.width,q.height,this.props.width,this.props.height,this.props.resizeMode);},getCropDimensions:function(){var q=this.getUpscaleCropDimensions(),r=this.getCropSrcDimensions();if(!this.props.upscale)return {width:Math.min(q.width,r.width),height:Math.min(q.height,r.height)};return q;},getCropAspectRatio:function(){var q=this.getCropDimensions();return q.width/q.height;},getContainerDimensions:function(){if(this.props.letterbox&&this.props.width&&this.props.height)return {width:this.props.width,height:this.props.height};return this.getCropDimensions();},getContainerAspectRatio:function(){var q=this.getContainerDimensions();return q.width/q.height;},getContainerPosition:function(){return {left:0,top:0};},getFocus:function(){var q=this.props.focus;if(!Array.isArray(q)&&q.type==='css')return {x:q.x,y:q.y};var r=this.getContainerAspectRatio(),s=this.getCropAspectRatio(),t=n.getVisible(r,s),u=n.focusHorizontally(r,s),v;if(!Array.isArray(q)){v=n.convertFromCenterToCSS(u?q.x:q.y,t);}else{var w=q.map(function(z){return u?z.x:z.y;});w.sort();var x=n.findBiggestSets(w,t),y=n.getBestSet(w,x,t);v=n.getFocusFromSet(w,y);}return {x:u?v:.5,y:u?.5:v};},getCropPosition:function(){var q=this.getCropDimensions(),r=this.getContainerDimensions(),s=this.getFocus();return {left:s.x*(r.width-q.width),top:s.y*(r.height-q.height)};},getScaleDimensions:function(){var q=this.getCropDimensions();return {width:q.width/this.props.cropRect.width,height:q.height/this.props.cropRect.height};},getScalePosition:function(){var q=this.getScaleDimensions();return {left:-q.width*this.props.cropRect.left,top:-q.height*this.props.cropRect.top};},getClipCropRectangle:function(){var q=this.getContainerDimensions(),r=this.getCropDimensions(),s=this.getContainerPosition(),t=this.getCropPosition(),u=Math.max(s.left,t.left),v=Math.max(s.top,t.top),w=Math.min(s.top+q.height,t.top+r.height),x=Math.min(s.left+q.width,t.left+r.width);return {left:u,top:v,width:x-u,height:w-v};},getClipCropPosition:function(){var q=this.getClipCropRectangle();return {left:q.left,top:q.top};},getClipCropDimensions:function(){var q=this.getClipCropRectangle();return {width:q.width,height:q.height};},getClipScalePosition:function(){var q=this.getScalePosition(),r=this.getClipCropPosition(),s=this.getCropPosition();return {left:q.left+(s.left-r.left),top:q.top+(s.top-r.top)};},getClipScaleDimensions:function(){return this.getScaleDimensions();},areDimensionsEqual:function(q,r){return q.width===r.width&&q.height===r.height;},shouldAddAllNodesAndStyles:function(){return this.props.animated;},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return true;var q=this.getContainerDimensions(),r=this.getClipCropDimensions(),s=this.getClipScaleDimensions();if(this.areDimensionsEqual(q,r)||this.areDimensionsEqual(r,s))return false;return true;},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return true;var q=this.getContainerDimensions(),r=this.getClipScaleDimensions();if(this.areDimensionsEqual(q,r))return false;return true;},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor;},applyPositionStyle:function(q,r){if(this.shouldAddAllNodesAndStyles()||r.left)q.left=Math.round(r.left);if(this.shouldAddAllNodesAndStyles()||r.top)q.top=Math.round(r.top);},applyDimensionsStyle:function(q,r){q.width=Math.round(r.width);q.height=Math.round(r.height);},applyBorderRadiusStyle:function(q){if(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)q.borderRadius=this.props.borderRadius||0;},getScaleStyle:function(){var q={},r=this.getClipCropDimensions(),s=this.getClipScaleDimensions();if(this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(r,s)){this.applyPositionStyle(q,this.getClipScalePosition());}else this.applyPositionStyle(q,this.getClipCropPosition());this.applyDimensionsStyle(q,this.getClipScaleDimensions());this.applyBorderRadiusStyle(q);return q;},getCropStyle:function(){var q={};this.applyPositionStyle(q,this.getClipCropPosition());this.applyDimensionsStyle(q,this.getClipCropDimensions());this.applyBorderRadiusStyle(q);return q;},getInsetBorderStyle:function(){var q={borderColor:this.props.insetBorderColor||'transparent'};this.applyPositionStyle(q,this.getClipCropPosition());this.applyDimensionsStyle(q,this.getClipCropDimensions());this.applyBorderRadiusStyle(q);return q;},getContainerStyle:function(){var q={};this.applyDimensionsStyle(q,this.getContainerDimensions());this.applyBorderRadiusStyle(q);return q;},getScale:function(){var q=this.getScaleStyle(),r=q.width,s=q.height;q=h({},q);delete q.width;delete q.height;return (l.createElement("img",l.__spread({},this.props,{alt:this.props.alt,className:k(this.props.className,(("_56wb")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''))),src:this.props.src,style:Object.assign({},(this.props.style||{}),q),width:r,height:s})));},getCrop:function(){var q=this.getScale();if(!this.hasCrop())return q;return (l.createElement("div",{className:(("_56ma")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),style:this.getCropStyle()},q));},getInsetBorder:function(){if(!this.hasInsetBorder())return null;return (l.createElement("div",{className:(("_56lv")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),style:this.getInsetBorderStyle()}));},getContainer:function(){var q=this.getCrop();if(!this.hasContainer())return q;var r=this.getInsetBorder();return (l.createElement("div",{className:(("_56jj")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),style:this.getContainerStyle()},q,r));},render:function(){var q=this.getSrcDimensions();if(!q)return l.createElement("span",null);return this.getContainer();}});e.exports=p;},null);
__d("TransformTextToDOMMixin",["DOMQuery","createArrayFromMixed","flattenArray"],function(a,b,c,d,e,f,g,h,i){var j=3,k={transform:function(l,m){return i(l.map(function(n){if(!g.isElementNode(n)){var o=n,p=[],q=this.MAX_ITEMS||j;while(q--){var r=m?[o].concat(m):[o],s=this.match.apply(this,r);if(!s)break;p.push(o.substring(0,s.startIndex));p.push(s.element);o=o.substring(s.endIndex);}o&&p.push(o);return p;}return n;}.bind(this)));},params:function(){var l=this;return {__params:true,obj:l,params:h(arguments)};}};e.exports=k;},null);
__d("Utf16",[],function(a,b,c,d,e,f){var g={decode:function(h){switch(h.length){case 1:return h.charCodeAt(0);case 2:return 65536|((h.charCodeAt(0)-55296)*1024)|(h.charCodeAt(1)-56320);}},encode:function(h){if(h<65536){return String.fromCharCode(h);}else return String.fromCharCode(55296+((h-65536)>>10))+String.fromCharCode(56320+(h%1024));}};e.exports=g;},null);
__d("SupportedEmoji",["cx","Utf16"],function(a,b,c,d,e,f,g,h){var i=new RegExp("([\u203C\u2049\u2100-\u21FF\u2300-\u27FF"+"\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|"+"\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?"),j={126980:"_4_o0",127378:"_4_o1",127385:"_4_o2",127386:"_4_o3",127489:"_4_o4",127490:"_4_o5",127514:"_4_o6",127535:"_4_o7",127539:"_4_o8",127541:"_4_o9",127542:"_4_oa",127543:"_4_ob",127544:"_4_oc",127545:"_4_od",127546:"_4_oe",127568:"_4_of",127744:"_2b_",127746:"_2c0",127747:"_4_og",127748:"_4_oh",127749:"_4_oi",127750:"_4_oj",127751:"_4_ok",127752:"_4_ol",127754:"_2c1",127769:"_2c2",127775:"_2c3",127793:"_2c4",127796:"_2c5",127797:"_2c6",127799:"_2c7",127800:"_2c8",127801:"_2c9",127802:"_2ca",127803:"_2cb",127806:"_2cc",127808:"_2cd",127809:"_2ce",127810:"_2cf",127811:"_2cg",127813:"_4_om",127814:"_4_on",127817:"_4_oo",127818:"_2ch",127822:"_2ci",127827:"_2cj",127828:"_2ck",127832:"_4_op",127833:"_4_oq",127834:"_4_or",127835:"_4_os",127836:"_4_ot",127837:"_4_ou",127838:"_4_ov",127839:"_4_ow",127841:"_4_ox",127842:"_4_oy",127843:"_4_oz",127846:"_4_o-",127847:"_4_o_",127856:"_4_p0",127857:"_4_p1",127858:"_4_p2",127859:"_4_p3",127860:"_4_p4",127861:"_4_p5",127862:"_4_p6",127864:"_2cl",127866:"_2cm",127867:"_4_p7",127872:"_4_p8",127873:"_2cn",127875:"_2co",127876:"_2cp",127877:"_2cq",127880:"_2cr",127881:"_2cs",127884:"_4_p9",127885:"_2ct",127886:"_2cu",127887:"_2cv",127888:"_2cw",127890:"_4_pa",127891:"_2cx",127905:"_4_pb",127906:"_4_pc",127908:"_4_pd",127909:"_4_pe",127910:"_4_pf",127911:"_4_pg",127912:"_4_ph",127913:"_4_pi",127915:"_4_pj",127916:"_4_pk",127917:"_4_pl",127919:"_4_pm",127921:"_4_pn",127925:"_2cy",127926:"_2cz",127927:"_4_po",127928:"_4_pp",127930:"_4_pq",127932:"_2c-",127934:"_4_pr",127935:"_4_ps",127936:"_4_pt",127937:"_4_pu",127942:"_4_pv",127944:"_4_pw",127968:"_4_px",127969:"_4_py",127970:"_4_pz",127971:"_4_p-",127973:"_4_p_",127974:"_4_q0",127975:"_4_q1",127976:"_4_q2",127977:"_4_q3",127978:"_4_q4",127979:"_4_q5",127980:"_4_q6",127981:"_4_q7",127983:"_4_q8",127984:"_4_q9",128013:"_2c_",128014:"_2d0",128017:"_2d1",128018:"_2d2",128020:"_2d3",128023:"_2d4",128024:"_2d5",128025:"_2d6",128026:"_2d7",128027:"_2d8",128031:"_2d9",128032:"_2da",128033:"_2db",128037:"_2dc",128038:"_2dd",128039:"_2de",128040:"_2df",128041:"_2dg",128043:"_2dh",128044:"_2di",128045:"_2dj",128046:"_2dk",128047:"_2dl",128048:"_2dm",128049:"_2dn",128051:"_2do",128052:"_2dp",128053:"_2dq",128054:"_491",128055:"_2dr",128056:"_2ds",128057:"_2dt",128058:"_2du",128059:"_2dv",128062:"_2dw",128064:"_2dx",128066:"_2dy",128067:"_2dz",128068:"_2d-",128069:"_2d_",128070:"_2e0",128071:"_2e1",128072:"_2e2",128073:"_2e3",128074:"_2e4",128075:"_2e5",128076:"_2e6",128077:"_2e7",128078:"_2e8",128079:"_2e9",128080:"_2ea",128081:"_4_qa",128082:"_4_qb",128084:"_4_qc",128085:"_4_qd",128087:"_4_qe",128088:"_4_qf",128089:"_4_qg",128092:"_4_qh",128095:"_4_qi",128096:"_4_qj",128097:"_4_qk",128098:"_4_ql",128102:"_2eb",128103:"_2ec",128104:"_2ed",128105:"_2ee",128107:"_2ef",128110:"_2eg",128111:"_2eh",128113:"_2ei",128114:"_2ej",128115:"_2ek",128116:"_2el",128117:"_2em",128118:"_2en",128119:"_2eo",128120:"_2ep",128123:"_2eq",128124:"_2er",128125:"_2es",128126:"_2et",128127:"_2eu",128128:"_2ev",128130:"_2ew",128131:"_2ex",128132:"_4_qm",128133:"_2ey",128136:"_4_qn",128137:"_4_qo",128138:"_4_qp",128139:"_2ez",128140:"_4_qq",128141:"_4_qr",128142:"_4_qs",128143:"_2e-",128144:"_2e_",128145:"_2f0",128146:"_4_qt",128147:"_2f1",128148:"_2f2",128150:"_2f3",128151:"_2f4",128152:"_2f5",128153:"_2f6",128154:"_2f7",128155:"_2f8",128156:"_2f9",128157:"_2fa",128158:"_4_qu",128159:"_4_qv",128160:"_4_qw",128161:"_4_qx",128162:"_2fb",128163:"_4_qy",128164:"_2fc",128166:"_2fd",128167:"_4_qz",128168:"_2fe",128169:"_2ff",128170:"_2fg",128176:"_4_q-",128178:"_4_q_",128180:"_4_r0",128181:"_4_r1",128186:"_4_r2",128187:"_2fh",128188:"_4_r3",128189:"_2fi",128190:"_2fj",128191:"_2fk",128192:"_2fl",128214:"_4_r4",128221:"_4_r5",128222:"_2fm",128224:"_2fn",128225:"_4_r6",128226:"_4_r7",128227:"_4_r8",128232:"_4_r9",128233:"_4_ra",128234:"_4_rb",128235:"_4_rc",128236:"_4_rd",128237:"_4_re",128238:"_4_rf",128241:"_2fo",128242:"_2fp",128243:"_4_rg",128244:"_4_rh",128246:"_4_ri",128247:"_4_rj",128250:"_2fq",128251:"_4_rk",128252:"_4_rl",128264:"_4_rm",128269:"_4_rn",128270:"_4_ro",128271:"_4_rp",128272:"_4_rq",128273:"_4_rr",128274:"_4_rs",128275:"_4_rt",128276:"_2fr",128286:"_4_ru",128293:"_492",128296:"_4_rv",128299:"_4_rw",128304:"_4_rx",128305:"_4_ry",128306:"_4_rz",128307:"_4_r-",128308:"_4_r_",128309:"_4_s0",128310:"_4_s1",128311:"_4_s2",128312:"_4_s3",128313:"_4_s4",128507:"_4_s5",128508:"_4_s6",128509:"_4_s7",128513:"_2fs",128514:"_2ft",128515:"_2fu",128516:"_2fv",128518:"_2fw",128521:"_2fx",128522:"_1q3y",128524:"_2fz",128525:"_2f-",128527:"_2f_",128530:"_2g0",128531:"_2g1",128532:"_2g2",128534:"_2g3",128536:"_2g4",128538:"_2g5",128540:"_2g6",128541:"_2g7",128542:"_2g8",128544:"_2g9",128545:"_2ga",128546:"_2gb",128547:"_2gc",128548:"_2gd",128549:"_2ge",128552:"_2gf",128553:"_2gg",128554:"_2gh",128555:"_2gi",128557:"_2gj",128560:"_2gk",128561:"_2gl",128562:"_2gm",128563:"_2gn",128565:"_2go",128567:"_2gp",128568:"_2gq",128569:"_2gr",128570:"_2gs",128571:"_2gt",128572:"_2gu",128573:"_2gv",128575:"_2gw",128576:"_2gx",128587:"_2gy",128588:"_2gz",128589:"_2g-",128591:"_2g_",128640:"_4_s8",128643:"_4_s9",128644:"_4_sa",128645:"_4_sb",128649:"_4_sc",128652:"_4_sd",128655:"_4_se",128657:"_4_sf",128658:"_4_sg",128659:"_4_sh",128661:"_4_si",128663:"_4_sj",128665:"_4_sk",128666:"_4_sl",128674:"_4_sm",128676:"_4_sn",128677:"_4_so",128679:"_4_sp",128684:"_4_sq",128685:"_4_sr",128690:"_4_ss",128697:"_4_st",128698:"_4_su",128699:"_4_sv",128700:"_4_sw",128701:"_4_sx",128702:"_4_sy",128704:"_4_sz",9642:"_4_s-",9643:"_4_s_",9723:"_4_t0",9724:"_4_t1",9725:"_4_t2",9726:"_4_t3",9742:"_4_t4",9757:"_2h0",9786:"_2h1",9855:"_4_t5",9888:"_4_t6",9889:"_2h2",9898:"_4_t7",9899:"_4_t8",9917:"_4_t9",9918:"_4_ta",9924:"_2h3",9940:"_4_tb",9962:"_4_tc",9970:"_4_td",9971:"_4_te",9973:"_4_tf",9978:"_4_tg",9981:"_4_th",9994:"_2h4",9995:"_2h5",9996:"_2h6",10060:"_4_ti",10062:"_4_tj",10145:"_4_tk",10175:"_4_tl",11013:"_4_tm",11014:"_4_tn",11015:"_4_to",11035:"_4_tp",11036:"_4_tq",11088:"_4_tr",11093:"_4_ts",12349:"_4_tt",8598:"_4_tu",8599:"_4_tv",8600:"_4_tw",8601:"_4_tx",9728:"_2h7",9729:"_2h8",9748:"_2h9",9749:"_2ha",9824:"_4_ty",9827:"_4_tz",9829:"_4_t-",9830:"_4_t_",9832:"_4_u0",9986:"_4_u1",9992:"_4_u2",9993:"_4_u3",10006:"_4_u4",10024:"_2hb",10035:"_4_u5",10036:"_4_u6",10067:"_4_u7",10068:"_4_u8",10069:"_4_u9",10071:"_4_ua",10084:"_2hc",10548:"_4_ub",10549:"_4_uc",12951:"_4_ud",12953:"_4_ue"},k=function(l){var m=0;while(l.length>0){var n=i.exec(l);if(!n||!n.length)return false;var o=n[1],p=n.index,q=h.decode(o),r=j[q];if(!r){m+=p+1;l=l.substr(p+1);continue;}n.index+=m;n.emoji=r;return n;}return false;};e.exports={findEmoji:k,emoji:j,_utf16Regex:i};},null);
__d("DOMEmoji",["CSS","JSXDOM","TransformTextToDOMMixin","SupportedEmoji","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={MAX_ITEMS:40,match:function(n){var o=j.findEmoji(n);if(!o||!o.length)return false;var p=o[0],q=o.index,r=o.emoji;return {startIndex:q,endIndex:q+p.length,element:this._element(r)};},_element:function(n){var o=h.span(null);g.addClass(o,"_1az");g.addClass(o,"_1a-");g.addClass(o,n);return o;}};e.exports=k(m,i);},null);
__d("EmoticonsList",[],function(a,b,c,d,e,f){e.exports={emotes:{":)":"smile",":-)":"smile",":]":"smile","=)":"smile","(:":"smile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":poop:":"poop",":putnam:":"putnam",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=D":"grin",":-D":"grin",":D":"grin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","B-)":"glasses","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel",":*":"kiss",":-*":"kiss","<3":"heart","&lt;3":"heart","":"heart","^_^":"kiki","-_-":"squint","o.O":"confused","O.o":"confused_rev",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",":v":"pacman",":|]":"robot",":3":"colonthree","<(\")":"penguin","(^^^)":"shark","(y)":"like",":like:":"like","(Y)":"like"},symbols:{smile:":)",frown:":(",poop:":poop:",putnam:":putnam:",tongue:":P",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",sunglasses:"B|",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",heart:"<3",kiki:"^_^",squint:"-_-",confused:"o.O",confused_rev:"O.o",upset:">:o",pacman:":v",robot:":|]",colonthree:":3",penguin:"<(\")",shark:"(^^^)",like:"(y)"},regexp:/(^|[\s'".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:'\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:\|\]|:3|<\("\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))([\s'".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s'".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:'\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:\|\]|:3|<\("\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))(?:[\s'".,!?]|<br>|$)/};},null);
__d("DOMEmote",["CSS","EmoticonsList","JSXDOM","TransformTextToDOMMixin","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k){var l={MAX_ITEMS:40,match:function(m){var n=h.regexp.exec(m);if(!n||!n.length)return false;var o=n[2],p=n.index+n[1].length;return {startIndex:p,endIndex:p+o.length,element:this._element(o,h.emotes[o])};},_element:function(m,n){var o=i.span({className:"emoticon_text","aria-hidden":"true"},m),p=i.span({title:m,className:"emoticon"});g.addClass(p,'emoticon_'+n);return [o,p];}};e.exports=k(l,j);},null);
__d("transformTextToDOM",["createArrayFromMixed"],function(a,b,c,d,e,f,g){function h(i,j){var k=[i];j=g(j);j.forEach(function(l){var m,n=l;if(l.__params){m=l.params;n=l.obj;}k=n.transform(k,m);});return k;}e.exports=h;},null);
__d("emojiAndEmote",["DOMEmoji","DOMEmote","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i){var j=function(k){var l=[g,h];return i(k,l);};e.exports=j;},null);
__d("Emoji",["DOMEmoji","JSXDOM","emojiAndEmote","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i,j){var k={htmlEmojiAndEmote:function(l,m){return (h.span(null,i(l))).innerHTML;},htmlEmojiAndEmoteWithoutFBID:function(l,m){return (h.span(null,i(l,false))).innerHTML;},htmlEmoji:function(l){return (h.span(null,j(l,g))).innerHTML;}};e.exports=k;},null);
__d("Emote",["DOMEmote","JSXDOM","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i){var j={htmlEmoteWithoutFBID:function(k,l){return (h.span(null,i(k,g))).innerHTML;},htmlEmote:function(k,l){return (h.span(null,i(k,[g]))).innerHTML;}};e.exports=j;},null);
__d("TextWithEmoticons.react",["Emoji","Emote","React"],function(a,b,c,d,e,f,g,h,i){var j=i.createClass({displayName:"ReactTextWithEmoticons",render:function(){if(!this.props.renderEmoticons&&!this.props.renderEmoji)return i.createElement("span",null,this.props.text);var k;if(this.props.renderEmoticons&&this.props.renderEmoji){k=g.htmlEmojiAndEmoteWithoutFBID(this.props.text);}else if(this.props.renderEmoticons){k=h.htmlEmoteWithoutFBID(this.props.text);}else k=g.htmlEmoji(this.props.text);return i.createElement("span",{dangerouslySetInnerHTML:{__html:k}});}});e.exports=j;},null);
__d("Newline.react",["React"],function(a,b,c,d,e,f,g){var h=g.createClass({displayName:"Newline",render:function(){return g.createElement("br",g.__spread({},this.props));}});e.exports=h;},null);
__d("Text.react",["React"],function(a,b,c,d,e,f,g){var h=g.createClass({displayName:"Text",render:function(){return (g.createElement("span",g.__spread({},this.props),this.props.children));}});e.exports=h;},null);
__d("ES6StringUtils",[],function(a,b,c,d,e,f){var g={fromCodePoint:function(){for(var h=[],i=0,j=arguments.length;i<j;i++)h.push(arguments[i]);if(String.fromCodePoint)return String.fromCodePoint.apply(this,h);var k=[];for(var l=0;l<h.length;l++){var m=Number(h[l]);if(!isFinite(m)||m<0||1114111<m||Math.floor(m)!=m)throw RangeError('Invalid code point: '+h[l]);if(m<65536){k.push(String.fromCharCode(m));}else{m-=65536;k.push(String.fromCharCode((m>>10)+55296),String.fromCharCode((m%1024)+56320));}}return k.join('');},codePointAt:function(h){"use strict";if(String.prototype.codePointAt)return String.prototype.codePointAt.call(this,h);if(this===null||this===(void 0))throw TypeError('Invalid context: '+this);var i=String(this),j=i.length;h=h?Number(h):0;if(h!=h)h=0;if(h<0||j<=h)return (void 0);var k=i.charCodeAt(h);if(55296<=k&&k<=56319&&j>h+1){var l=i.charCodeAt(h+1);if(56320<=l&&l<=57343)return (k-55296)*1024+l-56320+65536;}return k;}};e.exports=g;},null);
__d("UnicodeUtils",["ES6StringUtils"],function(a,b,c,d,e,f,g){"use strict";var h=55296,i=57343,j=/[\uD800-\uDFFF]/;function k(s){return h<=s&&s<=i;}function l(s){return j.test(s);}function m(s,t){return 1+k(s.charCodeAt(t));}function n(s){if(!l(s))return s.length;var t=0;for(var u=0;u<s.length;u+=m(s,u))t++;return t;}function o(s,t,u){t=t||0;u=(u===(void 0))?Infinity:(u||0);if(!l(s))return s.substr(t,u);var v=s.length;if(v<=0||t>v||u<=0)return '';var w=0;if(t>0){for(;t>0&&w<v;t--)w+=m(s,w);if(w>=v)return '';}else if(t<0){for(w=v;t<0&&0<w;t++)w-=m(s,w-1);if(w<0)w=0;}var x=v;if(u<v)for(x=w;u>0&&x<v;u--)x+=m(s,x);return s.substring(w,x);}function p(s,t,u){t=t||0;u=(u===(void 0))?Infinity:(u||0);if(t<0)t=0;if(u<0)u=0;var v=Math.abs(u-t);t=(t<u)?t:u;return o(s,t,v);}function q(s){var t=[];for(var u=0;u<s.length;u+=m(s,u)){var v=g.codePointAt.call(s,u);t.push(v);}return t;}var r={isCodeUnitInSurrogateRange:k,getUTF16Length:m,strlen:n,substr:o,substring:p,getCodePoints:q};e.exports=r;},null);
__d("BaseTextWithEntities.react",["Newline.react","React","Text.react","UnicodeUtils"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(o,p){return o.offset-p.offset;}var l=/(\r\n|[\r\n])/,m=h.PropTypes.shape({length:h.PropTypes.number.isRequired,offset:h.PropTypes.number.isRequired}),n=h.createClass({displayName:"BaseTextWithEntities",propTypes:{aggregatedRanges:h.PropTypes.array,imageRanges:h.PropTypes.array,ranges:h.PropTypes.arrayOf(m),rangeRenderer:h.PropTypes.func.isRequired,text:h.PropTypes.string.isRequired,textRenderer:h.PropTypes.func.isRequired},_getSortedRanges:function(){var o=[];[this.props.ranges,this.props.aggregatedRanges,this.props.imageRanges].filter(function(p){return p!=null;}).forEach(function(p){return o=o.concat(p);});return o.sort(k);},_renderText:function(o){var p=o.split(l),q={};for(var r=0;r<p.length;r++){var s=p[r];if(s)if(r%2===1){q[r]=h.createElement(g,null);}else q[r]=this.props.textRenderer(p[r]);}return q;},render:function(){var o=0,p=this.props.text,q=this._getSortedRanges(),r={},s=q.length;for(var t=0,u=s;t<u;t++){var v=q[t];if(v.offset<o)continue;if(v.offset>o)r['text'+t]=this._renderText(j.substring(p,o,v.offset));var w=j.substr(p,v.offset,v.length);r['range'+t]=this.props.rangeRenderer(w,v);o=v.offset+v.length;}if(p.length>o)r.end=this._renderText(j.substr(p,o));return (h.createElement(i,{className:this.props.className,style:this.props.style},r));}});e.exports=n;},null);
__d("TextWithEntities.react",["Link.react","React","BaseTextWithEntities.react","TextWithEmoticons.react"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(m){return (m).replace(/<3\b|&hearts;/g,'\u2665');}var l=h.createClass({displayName:"TextWithEntities",_renderText:function(m){if(this.props.renderEmoticons||this.props.renderEmoji){return (h.createElement(j,{text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else return k(m);},_renderRange:function(m,n){if(this.props.interpolator){return this.props.interpolator(m,n);}else return (h.createElement(g,{href:n.entity},m));},render:function(){return (h.createElement(i,h.__spread({},this.props,{textRenderer:this._renderText,rangeRenderer:this._renderRange,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:this.props.text})));}});e.exports=l;},null);
__d("TooltipMixin",["React","Tooltip","DOM"],function(a,b,c,d,e,f,g,h,i){function j(l){var m=l.tooltip;return m!=null&&typeof m!=='string';}var k={propTypes:{tooltip:g.PropTypes.oneOfType([g.PropTypes.element,g.PropTypes.string]),position:g.PropTypes.oneOf(['above','below','left','right']),alignH:g.PropTypes.oneOf(['left','center','right'])},getInitialState:function(){return {tooltipContainer:j(this.props)?i.create('div'):null};},componentWillReceiveProps:function(l){var m=j(l),n=this.state.tooltipContainer;if(n&&!m){this.setState({tooltipContainer:null});}else if(!n&&m)this.setState({tooltipContainer:i.create('div')});},componentDidMount:function(){this._updateTooltip();},componentDidUpdate:function(l,m){if(m.tooltipContainer&&!this.state.tooltipContainer)this._cleanupContainer(m.tooltipContainer);this._updateTooltip();},_updateTooltip:function(){var l;if(j(this.props)){l=this.state.tooltipContainer;g.render(this.props.tooltip,l);}else l=this.props.tooltip;if(l!=null){h.set(this.getDOMNode(),l,this.props.position,this.props.alignH);}else h.remove(this.getDOMNode());},componentWillUnmount:function(){if(this.state.tooltipContainer)this._cleanupContainer(this.state.tooltipContainer);h.remove(this.getDOMNode());},_cleanupContainer:function(l){g.unmountComponentAtNode(l);}};e.exports=k;},null);
__d("TooltipLink.react",["React","TooltipMixin"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"TooltipLink",mixins:[h],render:function(){return g.createElement("a",g.__spread({},this.props),this.props.children);}});e.exports=i;},null);
__d("Scrollable",["Event","Parent","UserAgent_DEPRECATED"],function(a,b,c,d,e,f,g,h,i){var j=function(event){var m=h.byClass(event.getTarget(),'scrollable');if(!m)return;if((typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS)||(event.wheelDeltaX&&!event.wheelDeltaY)||(event.deltaX&&!event.deltaY))return;var n=event.wheelDelta||-event.deltaY||-event.detail,o=m.scrollHeight,p=m.clientHeight;if(o>p){var q=m.scrollTop;if((n>0&&q===0)||(n<0&&q>=o-p-1)){event.prevent();}else if(i.ie()<9)if(m.currentStyle){var r=m.currentStyle.fontSize;if(r.indexOf('px')<0){var s=document.createElement('div');s.style.fontSize=r;s.style.height='1em';r=s.style.pixelHeight;}else r=parseInt(r,10);m.scrollTop=q-Math.round(n/120*r);event.prevent();}}},k=document.documentElement;if(i.firefox()){var l=('WheelEvent' in window)?'wheel':'DOMMouseScroll';k.addEventListener(l,j,false);}else g.listen(k,'mousewheel',j);},null);
__d("ScrollableArea.react",["Bootloader","React","Style","cx","joinClasses","Scrollable"],function(a,b,c,d,e,f,g,h,i,j,k){b('Scrollable');var l="uiScrollableArea native",m="uiScrollableAreaWrap scrollable",n="uiScrollableAreaBody",o="uiScrollableAreaContent",p=h.createClass({displayName:"ReactScrollableArea",render:function(){var q={height:this.props.height};return (h.createElement("div",h.__spread({},this.props,{className:k(this.props.className,l),ref:"root",style:Object.assign({},(this.props.style||{}),q)}),h.createElement("div",{className:m,ref:"wrap"},h.createElement("div",{className:n,ref:"body"},h.createElement("div",{className:o},this.props.children)))));},getArea:function(){return this._area;},componentDidMount:function(){g.loadModules(["ScrollableArea"],this._loadScrollableArea);},_loadScrollableArea:function(q){this._area=q.fromNative(this.refs.root.getDOMNode(),{fade:this.props.fade,persistent:this.props.persistent,shadow:this.props.shadow===(void 0)?true:this.props.shadow});var r=this.refs.body.getDOMNode();i.set(r,'width',this.props.width+'px');this.props.onScroll&&this._area.subscribe('scroll',this.props.onScroll);}});e.exports=p;},null);
__d("TrackingNodes",["TrackingNodeTypes"],function(a,b,c,d,e,f,g){var h={types:g,BASE_CODE_START:58,BASE_CODE_END:126,BASE_CODE_SIZE:69,PREFIX_CODE_START:42,PREFIX_CODE_END:47,PREFIX_CODE_SIZE:6,TN_URL_PARAM:'__tn__',encodeTN:function(i,j){var k=(i-1)%h.BASE_CODE_SIZE,l=parseInt((i-1)/h.BASE_CODE_SIZE,10);if(i<1||l>h.PREFIX_CODE_SIZE)throw Error('Invalid tracking node: '+i);var m="";if(l>0)m+=String.fromCharCode(l-1+h.PREFIX_CODE_START);m+=String.fromCharCode(k+h.BASE_CODE_START);if(typeof j!="undefined"&&j>0)m+=String.fromCharCode(48+Math.min(j,10)-1);return m;},decodeTN:function(i){if(i.length===0)return [0];var j=i.charCodeAt(0),k=1,l,m;if(j>=h.PREFIX_CODE_START&&j<=h.PREFIX_CODE_END){if(i.length==1)return [0];m=j-h.PREFIX_CODE_START+1;l=i.charCodeAt(1);k=2;}else{m=0;l=j;}if(l<h.BASE_CODE_START||l>h.BASE_CODE_END)return [0];var n=m*h.BASE_CODE_SIZE+(l-h.BASE_CODE_START)+1;if(i.length>k&&(i.charAt(k)>='0'&&i.charAt(k)<='9'))return [k+1,[n,parseInt(i.charAt(k),10)+1]];return [k,[n]];},parseTrackingNodeString:function(i){var j=[];while(i.length>0){var k=h.decodeTN(i);if(k.length==1)return [];j.push(k[1]);i=i.substring(k[0]);}return j;},getTrackingInfo:function(i,j){return '{"tn":"'+h.encodeTN(i,j)+'"}';},addDataAttribute:function(i,j,k){if(j===(void 0))return;['data-ft','data-gt'].forEach(function(l){var m;if(i.getAttribute){m=i.getAttribute(l)||"{}";}else if(i.props){m=i.props[l]||"{}";}else return;var n=h.encodeTN(j,k);try{m=JSON.parse(m);if(m.tn&&m.tn===n)return;m.tn=n;if(i.setAttribute){i.setAttribute(l,JSON.stringify(m));}else if(i.props){i.props[l]=JSON.stringify(m);}else return;}catch(o){}});}};e.exports=h;},null);
__d("CloseButton.react",["React","Image.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=g.createClass({displayName:"CloseButton",render:function(){var l=this.props,m=l.size||'medium',n=l.appearance||'normal',o=m==='small',p=m==='huge',q=n==='dark',r=n==='inverted',s=l.ajaxify||null,t=l.rel||null,u=(("uiCloseButton")+(o?' '+"uiCloseButtonSmall":'')+(p?' '+"uiCloseButtonHuge":'')+(o&&q?' '+"uiCloseButtonSmallDark":'')+(o&&r?' '+"uiCloseButtonSmallInverted":'')+(!o&&q?' '+"uiCloseButtonDark":'')+(!o&&r?' '+"uiCloseButtonInverted":''));return (g.createElement("a",g.__spread({},this.props,{ajaxify:s,href:"#",role:"button","aria-label":l.tooltip,"data-hover":l.tooltip&&'tooltip',"data-tooltip-alignh":l.tooltip&&'center',className:j(this.props.className,u),rel:t}),g.createElement(h,{className:"uiCloseButtonHighContrast",src:"/images/chat/tab/close.png"})));}});e.exports=k;},null);
__d("LitestandStoryInsertionStatus",["ArbiterMixin","copyProperties"],function(a,b,c,d,e,f,g,h){var i='check',j={registerBlocker:function(k){return j.subscribe(i,function(l,m){if(m.can_insert&&k())m.can_insert=false;});},canInsert:function(){var k={can_insert:true};j.inform(i,k);return k.can_insert;}};h(j,g);e.exports=j;},null);
__d("ReactLayeredComponentMixin",["ExecutionEnvironment","ReactCurrentOwner","React"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={componentWillMount:function(){if(g.canUseDOM)this._layersContainer=document.createElement('div');},componentDidMount:function(){this._renderLayersIntoContainer();},componentDidUpdate:function(){this._renderLayersIntoContainer();},componentWillUnmount:function(){i.unmountComponentAtNode(this._layersContainer);},_renderLayersIntoContainer:function(){h.current=this;var k=this.renderLayers()||{};h.current=null;i.render(i.createElement("div",null,k),this._layersContainer);}};e.exports=j;},null);
__d("SnowflakePermalinkUtils",["URI"],function(a,b,c,d,e,f,g){var h=/\/[^/]+\/(albums\/([^/]+)|posts\/([a-zA-Z]+[^/]+))\/([^/]+\/)?/,i=/\/[^/]+\/(albums|posts)\/([^/]+)\/([^/]+\/)?/,j={isPermalinkURI:function(k){k=g(k);return h.test(k.getPath());},parseURI:function(k){if(!this.isPermalinkURI(k))return {};k=g(k);var l=k.getPath().match(i);return {setToken:l[2],entIdentifierToken:l[3],photoID:k.getQueryData().photo_id};}};e.exports=j;},null);
__d("Sticker.react",["Arbiter","React","StickerConfig","StickerConstants","emptyFunction","getElementPosition","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n=83,o=5000,p=10,q={CLICK:'click',HOVER:'hover',LOAD_AND_HOVER:'load_and_hover'},r=h.createClass({displayName:"Sticker",propTypes:{animationTrigger:h.PropTypes.oneOf(m(q)),frameCount:h.PropTypes.number.isRequired,frameRate:h.PropTypes.number,framesPerCol:h.PropTypes.number.isRequired,framesPerRow:h.PropTypes.number.isRequired,onStickerClick:h.PropTypes.func,packID:h.PropTypes.string,sourceURI:h.PropTypes.string.isRequired,sourceWidth:h.PropTypes.number.isRequired,sourceHeight:h.PropTypes.number.isRequired,spriteURI:h.PropTypes.string,stickerID:h.PropTypes.string,subscribedThreadID:h.PropTypes.string},getInitialState:function(){return {index:0,hasAnimated:false,unsubscribeID:null};},getDefaultProps:function(){return {frameRate:n,onStickerClick:k,packID:null,shown:false};},componentDidMount:function(){this._stopIntervalID=0;if(this.props.animationTrigger===q.LOAD_AND_HOVER&&this.props.frameCount>1&&this.props.spriteURI)this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var s=g.subscribe(this.props.subscribedThreadID,function(t,u){this.isScrolledIntoView(u.scrollTop,u.viewHeight,u.top);}.bind(this));this.setState({unsubscribeID:s});}},componentDidUpdate:function(s){if(i.AutoAnimateStickerTray&&!s.shown&&this.props.shown)this.startAnimation();},componentWillUnmount:function(){if(this.state.unsubscribeID)g.unsubscribe(this.state.unsubscribeID);if(this.isAnimating())clearInterval(this._stopIntervalID);},isAnimating:function(){return !!this._stopIntervalID;},getWidth:function(){return Math.floor(this.props.sourceWidth);},getHeight:function(){return Math.floor(this.props.sourceHeight);},preloadSprite:function(){var s=new Image();s.onload=function(){if(this.isMounted()&&!this.state.hasAnimated){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}}.bind(this);if(i.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){s.src=this.props.paddedSpriteURI;}else s.src=this.props.spriteURI;},isScrolledIntoView:function(s,t,u){var v=l(this.getDOMNode()),w=s+v.y-u,x=s+t,y=w+v.height;if(this.props.frameCount>1&&!this.state.hasAnimated&&y-p<=x&&w+p>=s)this.startAnimation();},startAnimation:function(){if(!this.state.hasAnimated&&this.props.spriteURI){this.preloadSprite();}else if(!this.isAnimating()){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}},stopAnimation:function(){this.setState({index:0});clearInterval(this._stopIntervalID);this._stopIntervalID=0;},toggleAnimation:function(){if(this.isAnimating()){this.stopAnimation();}else this.startAnimation();},shouldStopAnimating:function(){var s=this.state.index%this.props.frameCount;if(!(s===0&&this.state.index*this.props.frameRate>o))return false;if(this.props.animationTrigger===q.CLICK)return true;return !this.state.isHovered;},incrementFrameIndex:function(){if(this.shouldStopAnimating()){this.stopAnimation();}else this.setState({index:this.state.index+1});},getStyle:function(){var s=0,t=this.props.spriteURI;if(i.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){t=this.props.paddedSpriteURI;var u=240/Math.min(this.getHeight(),this.getWidth());s=Math.floor(j.SPRITE_PADDING/u);}var v=this.state.index%this.props.frameCount,w=(v%this.props.framesPerRow)*(this.getWidth()+s*2)+s,x=Math.floor(v/this.props.framesPerRow)*(this.getHeight()+s*2)+s,y=(this.props.frameCount>1&&this.props.animationTrigger===q.CLICK)||this._isStickerClickable(this.props.packID),z;if(this.props.style&&this.props.style.cursor){z=this.props.style.cursor;}else z=y?'pointer':'default';if(!this.state.hasAnimated||!this.props.spriteURI){return {backgroundImage:'url('+this.props.sourceURI+')',backgroundRepeat:'no-repeat',backgroundSize:this.getWidth()+'px '+this.getHeight()+'px',cursor:z,height:this.getHeight(),width:this.getWidth()};}else return {backgroundImage:'url('+t+')',backgroundPosition:(-w)+'px '+(-x)+'px',backgroundSize:(this.getWidth()+s*2)*this.props.framesPerRow+'px '+(this.getHeight()+s*2)*this.props.framesPerCol+'px',cursor:z,height:this.getHeight(),width:this.getWidth()};},_isStickerClickable:function(s){return s&&s!=j.MOBILE_LIKE_STICKER_PACK_ID&&s!=j.GRAVEYARD_PACK_ID;},onStickerClick:function(){if(!this._isStickerClickable(this.props.packID))return;if(this.props.onStickerClick)this.props.onStickerClick(this.props.packID,this.props.stickerID);},mouseLeft:function(){this.setState({isHovered:false});},mouseEntered:function(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},render:function(){var s,t;if(this.props.animationTrigger===q.CLICK&&this.props.frameCount>1&&this.props.spriteURI){s=true;}else if((this.props.animationTrigger===q.HOVER||this.props.animationTrigger===q.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI)t=true;var u=s?this.toggleAnimation:null;if(this.props.packID)u=this.onStickerClick;return (h.createElement("div",h.__spread({tabIndex:"0"},this.props,{style:Object.assign({},(this.props.style||{}),this.getStyle()),onClick:u,onMouseEnter:t?this.mouseEntered:null,onMouseLeave:t?this.mouseLeft:null})));}});e.exports=r;},null);
__d("ImageBlock.react",["LeftRight.react","React","cloneWithProps","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(p){k(p.children&&(p.children.length===2||p.children.length===3));}function n(p){return (("img")+(' '+"_8o")+(p==='small'?' '+"_8r":'')+(p==='medium'?' '+"_8s":'')+(p==='large'?' '+"_8t":''));}var o=h.createClass({displayName:"ImageBlock",render:function(){m(this.props);var p=this.props.children[0],q=this.props.children[1],r=this.props.children[2],s=this.props.spacing||'small';p=i(p,{className:l(n(s),this.props.imageClassName)});var t=l(this.props.contentClassName,(("_42ef")+(s==='small'?' '+"_8u":'')));if(p.type==='img'){if(p.props.alt===(void 0))p.props.alt='';}else if((p.type==='a'||p.type==='link')&&p.props.tabIndex===(void 0)&&p.props.title===(void 0)&&p.props['aria-label']===(void 0)){p.props.tabIndex='-1';p.props['aria-hidden']='true';}var u;if(!r){u=h.createElement("div",{className:t},q);}else u=h.createElement(g,{className:t,direction:g.DIRECTION.right},q,r);return (h.createElement(g,h.__spread({},this.props,{direction:g.DIRECTION.left}),p,u));}});e.exports=o;},null);
__d("UFIImageBlock.react",["ImageBlock.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:"UFIImageBlock",render:function(){return (h.createElement(g,h.__spread({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"}),this.props.children));}});e.exports=j;},null);
__d("UFIStickerButton.react",["Bootloader","ContextualLayerAutoFlip","Link.react","React","ReactLayeredComponentMixin","StickerConstants","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=j.createClass({displayName:"UFIStickerButton",propTypes:{onStickerSelected:j.PropTypes.func.isRequired,onEmoticonSelected:j.PropTypes.func},mixins:[k],getInitialState:function(){return {renderFlyout:null,flyoutShown:false};},render:function(){var p="Post a sticker";return (j.createElement(i,{"aria-label":p,className:"UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center",onClick:this._onLinkClicked,onMouseDown:this._prepareForClick,ref:"link"},j.createElement("div",{className:"UFICommentStickerIcon"})));},renderLayers:function(){return !this.state.renderFlyout?{}:this.state.renderFlyout();},_hideFlyout:function(){this.setState({flyoutShown:false});},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown;},_onLinkClicked:function(){if(this.state.renderFlyout!==null){!this._clickGuard&&this.setState({flyoutShown:true});return;}g.loadModules(["XUIContextualDialog.react","StickersFlyout.react"],function(p,q){this.setState({flyoutShown:true,renderFlyout:function(){return {contextualDialog:j.createElement(p,{alignment:"right",behaviors:{flip:h},className:"_5e-r",contextRef:"link",onBlur:this._hideFlyout,position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:278},j.createElement("div",null,j.createElement(q,{onPackSelect:function(r){this.setState({packID:r});}.bind(this),onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,isComments:true,packID:this.state.packID,shown:this.state.flyoutShown})))};}.bind(this)});}.bind(this));},_onStickerSelected:function(p,event){this.props.onStickerSelected(p,event);this._hideFlyout();},_onEmoticonSelected:function(p){this.props.onEmoticonSelected(p);this._hideFlyout();}});e.exports=o;},null);
__d("XUIGrayText.react",["React","XUIText.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=g.PropTypes,l=g.createClass({displayName:"XUIGrayText",propTypes:{shade:k.oneOf(['light','medium','dark'])},getDefaultProps:function(){return {shade:'light'};},render:function(){var m=((this.props.shade==='light'?"_50f8":'')+(this.props.shade==='medium'?' '+"_c24":'')+(this.props.shade==='dark'?' '+"_50f9":''));return (g.createElement(h,g.__spread({},this.props,{className:j(this.props.className,m)}),this.props.children));}});e.exports=l;},null);
__d("UnicodeBidi",["Locale","UnicodeBidiDirection"],function(a,b,c,d,e,f,g,h){"use strict";var i={L:'A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF'+'\u200E\u2C00-\uD7FF\uE000-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF',R:'\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05F0-\u05F2\u05F3-\u05F4'+'\u07C0-\u07C9\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824'+'\u0828\u0830-\u083E\u0840-\u0858\u085E\u200F\uFB1D\uFB1F-\uFB28'+'\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F',AL:'\u0608\u060B\u060D\u061B\u061C\u061E-\u061F\u0620-\u063F\u0640'+'\u0641-\u064A\u066D\u066E-\u066F\u0671-\u06D3\u06D4\u06D5\u06E5-\u06E6'+'\u06EE-\u06EF\u06FA-\u06FC\u06FD-\u06FE\u06FF\u0700-\u070D\u070F\u0710'+'\u0712-\u072F\u074D-\u07A5\u07B1\u08A0\u08A2-\u08AC\uFB50-\uFBB1'+'\uFBB2-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB'+'\uFDFC\uFE70-\uFE74\uFE76-\uFEFC'},j=i.L+i.R+i.AL,k=i.R+i.AL,l=new RegExp('['+j+']'),m=new RegExp('['+k+']');function n(t){var u=l.exec(t);if(!u)return h.NEUTRAL;var v=m.exec(u[0]);return v?h.RTL:h.LTR;}function o(t,u){u=u||h.NEUTRAL;if(!t.length)return u;var v=n(t);return (v===h.NEUTRAL)?u:v;}function p(t,u){if(!u||!h.isStrong(u))u=g.getDirection();return o(t,u);}function q(t,u){return p(t,u)===h.LTR;}function r(t,u){return p(t,u)===h.RTL;}var s={firstStrongCharDir:n,resolveBlockDir:o,getDirection:p,isDirectionLTR:q,isDirectionRTL:r};e.exports=s;},null);
__d("isRTL",["UnicodeBidi","UnicodeBidiDirection"],function(a,b,c,d,e,f,g,h){function i(j){return g.getDirection(j)===h.RTL;}e.exports=i;},null);
__d("FbFeedHighlight",["JSXDOM","CSS","DOM","DOMScroll","cx"],function(a,b,c,d,e,f,g,h,i,j,k){var l=1000,m=1000,n=null;function o(){return (g.div({className:"_1usz"},g.div({className:"_1us-"}),g.div({className:"_1us_"}),g.div({className:"_1ut0"}),g.div({className:"_1ut1"})));}var p={highlightAndScrollTo:function(q){p.highlight(q);p.scrollTo(q);},highlightSingle:function(q){var r=o();i.appendContent(q,r);setTimeout(function(){if(n)i.remove(n);n=r;h.addClass(q,"_1ut2");},0);setTimeout(function(){h.removeClass(q,"_1ut2");setTimeout(function(){i.remove(r);if(r==n)n=null;},l+m);},l+m);},highlight:function(q){var r=o();i.appendContent(q,r);setTimeout(h.addClass.bind(null,q,"_1ut2"),0);setTimeout(function(){h.removeClass(q,"_1ut2");setTimeout(i.remove.bind(null,r),l+l);},l+m);},scrollTo:function(q){setTimeout(j.scrollTo.bind(null,q),0);}};e.exports=p;},null);
__d("XNotificationInlineStoryInsertControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/desktop_notifications\/insert_story\/",{uri:{type:"String",required:true},uri_path:{type:"String",required:true},first_insert:{type:"Bool"},notif_id:{type:"String",required:true}});},null);
__d("InlineStoryInsert",["Animation","Arbiter","AsyncRequest","csx","DOM","DOMQuery","DOMScroll","FbFeedHighlight","ge","XNotificationInlineStoryInsertControllerURIBuilder","Toggler","$"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=null,t={insertStory:function(u){q.hide(r("fbNotificationsJewel"));var v=r("pagelet_composer");g.insert(v,u,k.insertAfter);s=l.scry(r("stream_pagelet"),"._2dt8")[0];var w=l.scry(s,"._2fx2")[0],x=l.scry(u,"._2fx3")[0];h.subscribeOnce('notifStory/ufiLoaded',function(){t.scrollToHeaderandHighlightStory(w,x);}.bind(this));},prependStory:function(u){q.hide(r("fbNotificationsJewel"));s=l.scry(r("stream_pagelet"),"._2dt8")[0];var v=l.scry(s,"._2fx2")[0],w=l.scry(u,"._2fx3")[0];t.dedupe(s,"._2fx4",u);g.insert(v,u,k.insertAfter);h.subscribeOnce('notifStory/ufiLoaded',function(){t.scrollToHeaderandHighlightStory(v,w);}.bind(this));},scrollToHeaderandHighlightStory:function(u,v){n.highlight(v);m.scrollTo(u);h.inform('inlineStory/insertLoaded');},gotoPermalink:function(u){window.open(u,'_self');},stopLoadingAndFallback:function(u){window.open(u,'_self');h.inform('inlineStory/insertLoaded');},requestStory:function(u,v,w,x){h.subscribeOnce('notifStory/ufiLoaded',function(){t.setCommentFocus();}.bind(this));var y=new p().setString('uri',u).setString('uri_path',v).setBool('first_insert',w).setString('notif_id',x).getURI();new i().setURI(y).send();},setCommentFocus:function(){var u=k.scry(s,'textarea');if(u.length>0)u[0].focus();},dedupe:function(u,v,w){var x=l.scry(u,v);for(var y=0;y<x.length;y++)if(x[y].id===w.id){k.remove(x[y]);return;}},_insert:function(u,v,w){var x=l.scry(r("stream_pagelet"),"._2fx4").length===0;t.requestStory(u,v,x,w);},_isInFeed:function(){if(!o("pagelet_composer"))return false;return true;},_notifStoryUFI:function(u){if(!t._isInFeed())return false;var v=null,w=null;v=l.scry(r("stream_pagelet"),"._2dt8");if(v.length>0){w=v[0];if(l.contains(w,u))return true;}return false;}};e.exports=t;},null);
__d("UFICommentMessageReplyLink.react",["ActorURI","Link.react","React","XPagesMessagingPrivateReplyDialogControllerURIBuilder","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=i.createClass({displayName:"UFICommentMessageReplyLink",propTypes:{commentID:i.PropTypes.string.isRequired,pageID:i.PropTypes.string.isRequired},render:function(){var m=g.create((new j()).setString('activity_id',this.props.commentID).getURI(),this.props.pageID);return (i.createElement(h,{href:m,rel:"dialog"},"Message"));}});e.exports=l;},null);
__d("Timestamp.react",["LiveTimer","joinClasses","React"],function(a,b,c,d,e,f,g,h,i){var j=b('React').PropTypes,k=i.createClass({displayName:"Timestamp",propTypes:{autoUpdate:j.bool},getDefaultProps:function(){return {autoUpdate:false};},componentDidMount:function(){if(this.props.autoUpdate)g.addTimeStamps(this.getDOMNode());},componentDidUpdate:function(l,m){if(this.props.autoUpdate&&this.props.time!==l.time)g.loop();},render:function(){var l=g.renderRelativeTimeToServer(this.props.time,this.props.shorten);return (i.createElement("abbr",i.__spread({},this.props,{className:h(this.props.className,"livetimestamp"),title:this.props.verbose,"data-utime":this.props.time,"data-shorten":this.props.shorten?true:null}),l.text||this.props.text));}});e.exports=k;},null);
__d("HelpLink.react",["React","joinClasses","TooltipLink.react"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"HelpLink",render:function(){return (g.createElement(i,g.__spread({},this.props,{className:h(this.props.className,"uiHelpLink mls")}),(void 0)));}});e.exports=j;},null);
__d("LitestandEllipsis",["DOM","DOMDimensions","concatMap","createArrayFromMixed","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k){var l,m={add:function(p,q,r){r=r||p;g.scry(p,'br').forEach(g.remove);var s=h.getElementDimensions(r).height;if(s<=q)return p;var t,u='...',v=o(p),w=v.length-1,x=k(v[w]);while(w>=0&&s>q){t=Math.max(x.lastIndexOf(' '),x.lastIndexOf('\n'));if(t===-1)t=x.length-u.length-1;if(t<=0){n(v[w],'');w--;x=k(v[w]);}else{x=x.substr(0,t).trim()+u;n(v[w],x);}s=h.getElementDimensions(r).height-1;}}};function n(p,q){l=l||(p.textContent!=null?'textContent':'innerText');p[l]=q;}function o(p){if(g.isTextNode(p))return [p];return i(o,j(p.childNodes));}e.exports=m;},null);
__d("AbstractButton.react",["Link.react","React","cloneWithProps","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:"AbstractButton",propTypes:{image:h.PropTypes.element,imageRight:h.PropTypes.element,depressed:h.PropTypes.bool,label:h.PropTypes.node,onClick:h.PropTypes.func},handleLinkClick:function(m){if(this.props.disabled){m.preventDefault();}else if(this.props.onClick)this.props.onClick(m);},render:function(){var m=(("_42ft")+(this.props.disabled?' '+"_42fr":'')+(this.props.depressed?' '+"_42fs":'')),n,o=this.props.image;if(o){n={};if(this.props.label){n.alt='';n.className="_3-8_";}o=i(o,n);}var p=this.props.imageRight;if(p){n={};if(this.props.label){n.alt='';n.className="_3-99";}p=i(p,n);}var q;if(this.props.href){q=h.createElement(g,h.__spread({},this.props,{className:k(this.props.className,m),disabled:null,label:null,onClick:this.handleLinkClick}),o,this.props.label,p);}else if(this.props.type&&this.props.type!=='submit'){q=h.createElement("button",h.__spread({},this.props,{className:k(this.props.className,m),label:null,type:this.props.type}),o,this.props.label,p);}else q=h.createElement("button",h.__spread({},this.props,{className:k(this.props.className,m),label:null,type:"submit",value:"1"}),o,this.props.label,p);return q;}});e.exports=l;},null);
__d("XUIAbstractGlyphButton.react",["AbstractButton.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=h.createClass({displayName:"XUIAbstractGlyphButton",propTypes:{label:h.PropTypes.node},render:function(){return (h.createElement(g,h.__spread({},this.props,{className:j(this.props.className,"_5upp")})));}});e.exports=k;},null);
__d("XUICloseButton.react",["XUIAbstractGlyphButton.react","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:"XUICloseButton",propTypes:{shade:h.PropTypes.oneOf(['light','dark']),size:h.PropTypes.oneOf(['small','medium']),type:h.PropTypes.oneOf(['submit','button','reset'])},getDefaultProps:function(){return {size:'medium',shade:'dark',type:'button'};},render:function(){var m=this.props.size,n=this.props.shade,o=(("_50zy")+(m==='small'?' '+"_50zz":'')+(m==='medium'?' '+"_50-0":'')+(n==='light'?' '+"_50z_":'')+(n==='dark'?' '+"_50z-":'')),p=this.props.label,q=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!p)p="Remove";q=p;}return (h.createElement(g,h.__spread({},this.props,{label:p,title:q,type:this.props.href?null:this.props.type,"aria-label":this.props.tooltip,"data-hover":this.props.tooltip&&'tooltip',"data-tooltip-alignh":this.props.tooltip&&'center',className:k(this.props.className,o)})));}});e.exports=l;},null);
__d("UFIContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"UFIContainer",render:function(){var j=null;if(this.props.hasNub)j=g.createElement("li",{className:"UFIArrow"},g.createElement("i",null));var k=((!this.props.isReplyList?"UFIList":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));return (g.createElement("ul",{className:k},j,this.props.children));}});e.exports=i;},null);
__d("intlList",["React","fbt","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=function(m,n){n=n||k.CONJUNCTIONS.AND;var o=m.length;if(o===0){return '';}else if(o===1)return m[0];var p=m[o-1],q=m[0];for(var r=1;r<o-1;++r)q=h._("{previous items}, {following items}",[h.param("previous items",q),h.param("following items",m[r])]);return l(q,p,n);};function l(m,n,o){switch(o){case k.CONJUNCTIONS.AND:return (h._("{list of items} and {last item}",[h.param("list of items",m),h.param("last item",n)]));case k.CONJUNCTIONS.OR:return (h._("{list of items} or {last item}",[h.param("list of items",m),h.param("last item",n)]));case k.CONJUNCTIONS.NONE:return (h._("{list of items}, {last item}",[h.param("list of items",m),h.param("last item",n)]));default:i(false);}}k.CONJUNCTIONS=j({AND:null,NONE:null,OR:null});e.exports=k;},null);
__d("UFI.react",["DOMScroll","Event","NumberFormat","React","ScrollableArea.react","ScrollAwareDOM","SearchableEntry","TrackingNodes","UFIAddCommentController","UFIAddCommentLink.react","UFIComment.react","UFIConstants","UFIContainer.react","UFIInstanceState","UFILikeSentence.react","UFIPager.react","UFIPagerLabel","UFIReplySocialSentence.react","UFIShareRow.react","UFISpamPlaceholder.react","Vector","copyProperties","getUnboundedScrollPosition","isEmpty","throttle","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){"use strict";var ga={TOP:'top',BOTTOM:'bottom',ALL:'all'},ha=j.createClass({displayName:"UFI",getInitialState:function(){return {instanceShowRepliesMap:{},instanceShowReplySocialSentenceMap:{},loadingSpamIDs:{},isActiveLoading:{},commentIDToFocusOnMount:null,replyComposerIDToFocusOnMount:null,hasPagedToplevel:false};},componentDidMount:function(){this.suppressScrolls=0;this.scrollSubscription=l.subscribe('scroll',function(){if(this.suppressScrolls>0){this.suppressScrolls--;return false;}return true;}.bind(this));if(this.props.feedback.isqanda&&this.props.feedback.infinitescroll){var ia=ea(this.loadMoreComments,20);this._scrollEventListener=h.listen(window,'scroll',ia);this._resizeEventListener=h.listen(window,'resize',ia);}},componentWillUnmount:function(){if(this.scrollSubscription){l.unsubscribe(this.scrollSubscription);this.scrollSubscription=null;}if(this._scrollEventListener)this._scrollEventListener.remove();if(this._resizeEventListener)this._resizeEventListener.remove();},componentWillReceiveProps:function(ia){var ja=ba({},this.state.isActiveLoading),ka;for(ka in this.state.isActiveLoading){var la=this.props.ranges[this.props.id],ma=ia.ranges[this.props.id];if(la.getOffset()!=ma.getOffset()||la.getLength()!=ma.getLength()){var na=(ma.getOffset()<la.getOffset())?0:la.getLength();if(na<ia.availableComments.length)this.setState({commentIDToFocusOnMount:ia.availableComments[na].id});}delete ja[ka];}this.setState({isActiveLoading:ja});},componentDidUpdate:function(ia,ja,ka){var la=this.state.replyComposerIDToFocusOnMount;if(this.refs&&la in this.refs){this.refs[la].focus();this.setState({replyComposerIDToFocusOnMount:null});}},componentWillUpdate:function(ia,ja,ka){var la,ma;for(la in this.state.isActiveLoading){ma=this.state.isActiveLoading[la];if(ma!==ga.TOP)this.suppressScrolls++;}},render:function(){var ia=this.props,ja=ia.feedback,ka=ia.contextArgs,la=ia.source!=r.UFIFeedbackSourceType.ADS,ma=!ia.hideOrderingModeSelector&&ja.orderingmodes&&ia.commentCounts[ia.id]>=r.minCommentsForOrderingModeSelector,na=(!da(ja.likesentences.current)||(ja.seencount>0&&!ka.entstream)||ma)&&ka.search!==true&&la,oa=null;if(na)oa=j.createElement(u,{contextArgs:ka,feedback:ja,onTargetLikeToggle:ia.onTargetLikeToggle,onOrderingModeChange:ia.onOrderingModeChange,orderingMode:ia.orderingMode,showOrderingModeSelector:ma});var pa=ia.availableComments&&ia.availableComments.length&&la,qa=null;if(pa)qa=this.renderCommentMap(ia.availableComments,ia.ranges[ia.id].getOffset());var ra=null,sa=ja.cancomment,ta=sa&&ka.showaddcomment&&ja.actorforpost&&ia.canAddCommentMap[ia.id];if(ta){ka.orderingmodes=ja.orderingmodes;var ua=new o(null,ia.id,null,ka),va=ia.authorProfiles[ja.actorforpost];ra=ua.renderAddComment(va,ja.ownerid,ja.mentionsdatasource,ja.showsendonentertip,'toplevelcomposer',null,ja.subtitle,ja.allowphotoattachments,ja.allowstickerattachments,ja.isqanda);}var wa=null,xa=ka.showshares&&ja.sharecount&&la;if(xa&&!ka.entstream)wa=j.createElement(y,{targetID:ja.targetfbid,shareCount:ja.sharecount,contextArgs:ka});var ya=na||xa||pa||sa,za=this.renderPagers();this.applyToUFIComponents([za.topPager],qa,[za.bottomPager],{isFirstCommentComponent:true},{isLastCommentComponent:true});var ab=ja.isranked?ra:null,bb=ja.isranked?null:ra,cb=null;if(ta&&ja.isranked&&this.state.hasPagedToplevel)cb=j.createElement(p,{onClick:this.onComment,isQAndA:ja.isqanda});this.applyToUFIComponents([oa,wa,ab,za.topPager],qa,[za.bottomPager,bb,cb],{isFirstComponent:true},{isLastComponent:true});var db=[za.topPager,qa,za.bottomPager];if(ka.scrollcomments&&ka.scrollwidth)db=j.createElement("li",null,j.createElement(k,{width:ka.scrollwidth},j.createElement("ul",null,db)));return (j.createElement(s,{hasNub:ka.shownub&&ya},oa,wa,ab,db,bb,cb));},applyToUFIComponents:function(ia,ja,ka,la,ma){var na=Object.keys(ja||{}).map(function(pa){return ja[pa];}).filter(function(pa){return (pa&&pa.props.comment&&this._shouldRenderComment(pa.props.comment));}.bind(this)),oa=[].concat(ia,na,ka);this._applyToFirstComponent(oa,la);oa.reverse();this._applyToFirstComponent(oa,ma);},_shouldRenderComment:function(ia){return ia.status!==r.UFIStatus.DELETED;},_applyToFirstComponent:function(ia,ja){for(var ka=0;ka<(ia||[]).length;ka++)if(ia[ka]){ba(ia[ka].props,ja);return;}},renderCommentMap:function(ia,ja){var ka=this.props,la={},ma=ia.length;if(!ma)return la;var na=ia[0].parentcommentid,oa=[],pa=function(){if(oa.length>0){var xa=function(ya,za){this.state.loadingSpamIDs[ya[0]]=true;this.forceUpdate();ka.onSpamFetch(ya,za);}.bind(this,oa,na);la['spam'+oa[0]]=j.createElement(z,{onClick:xa,numHidden:oa.length,isLoading:!!this.state.loadingSpamIDs[oa[0]]});oa=[];}}.bind(this),qa=ka.instanceid,ra=t.getKeyForInstance(qa,'editcommentid'),sa=!!ia[0].parentcommentid;for(var ta=0;ta<ma;ta++)if(ia[ta].status==r.UFIStatus.SPAM){oa.push(ia[ta].id);}else{pa();var ua=Math.max(ka.loggingOffset-ta-ja,0),va=ia[ta],wa;if(va.id==ra){wa=this.renderEditCommentBox(va);}else{wa=this.renderComment(va,ua);wa.props.isFirst=ta===0;wa.props.isLast=ta===ma-1;if(!sa)wa.props.showReplyLink=true;}la['comment'+va.id]=wa;if(va.status!==r.UFIStatus.DELETED)la['replies'+va.id]=this.renderReplyContainer(va);}pa();return la;},renderReplyContainer:function(ia){var ja=this.props,ka={};for(var la=0;la<(ia.replyauthors||[]).length;la++){var ma=ja.authorProfiles[ia.replyauthors[la]];if(ma)ka[ma.id]=ma;}var na=ja.repliesMap&&ja.repliesMap[ia.id]&&this._shouldShowCommentReplies(ia.id),oa,pa=ja.commentCounts[ia.id],qa=Math.max(pa-ia.spamreplycount,0);if(qa&&this._shouldShowReplySocialSentence(ia.id)){var ra=this._shouldShowCommentReplies(ia.id)&&(this.isLoadingPrev(ia.id)||this.isLoadingNext(ia.id));oa=j.createElement(x,{contextArgs:ja.contextArgs,authors:ka,replies:qa,shortenTimestamp:ja.shortenTimestamp,timestamp:ia.recentreplytimestamp,onClick:this.onToggleReplies.bind(this,ia),isLoading:ra,isExpanded:na,showVerified:this.props.contextArgs.showverified&&this.props.feedback.showfeaturedreplies,orderingMode:this.props.orderingMode});}var sa,ta,ua,va;if(na){var wa=this.renderPagers(ia.id);sa=wa.topPager;ua=wa.bottomPager;ta=this.renderCommentMap(ja.repliesMap[ia.id],ja.ranges[ia.id].getOffset());var xa=Object.keys(ta);for(var ya=0;ya<xa.length;ya++){var za=ta[xa[ya]];if(za)za.props.hasPartialBorder=ya!==0;}if(ia.cancomment&&ja.canAddCommentMap[ia.id]){var ab=false,bb=Object.keys(ta);for(var la=bb.length-1;la>=0;la--){var cb=bb[la];if(cb&&ta[cb]){ab=ta[cb].props.isAuthorReply;break;}}va=this.renderReplyComposer(ia,!ab);}}var db;if(oa||sa||ta||ua||va){this.applyToUFIComponents([oa,sa],ta,[ua,va],{isFirstComponent:true},{isLastComponent:true});var eb=ia.status===r.UFIStatus.LIVE_DELETED;db=j.createElement(s,{isParentLiveDeleted:eb,isReplyList:true},oa,sa,ta,ua,va);}return db;},renderReplyComposer:function(ia,ja){var ka=this.props;return (new o(null,ka.id,ia.id,ka.contextArgs)).renderAddComment(ka.authorProfiles[ka.feedback.actorforpost],ka.feedback.ownerid,ka.feedback.mentionsdatasource,false,'replycomposer-'+ia.id,ja,ka.feedback.subtitle,ka.feedback.allowphotoattachments,ka.feedback.allowstickerattachments,ka.feedback.isqanda);},renderEditCommentBox:function(ia){var ja=new o(null,this.props.id,null,{mentionsinput:this.props.contextArgs.mentionsinput}),ka=ja.renderEditComment(this.props.authorProfiles[this.props.feedback.actorforpost],this.props.feedback.ownerid,ia.id,this.props.feedback.mentionsdatasource,this.props.onEditAttempt.bind(null,ia),this.props.onCancelEdit,this.props.feedback.allowphotoattachments,this.props.feedback.allowstickerattachments,this.props.feedback.isqanda);return ka;},_shouldShowCommentReplies:function(ia){if(ia in this.state.instanceShowRepliesMap){return this.state.instanceShowRepliesMap[ia];}else if(ia in this.props.showRepliesMap)return this.props.showRepliesMap[ia];return false;},_shouldShowReplySocialSentence:function(ia){if(ia in this.state.instanceShowReplySocialSentenceMap){return this.state.instanceShowReplySocialSentenceMap[ia];}else if(ia in this.props.showReplySocialSentenceMap)return this.props.showReplySocialSentenceMap[ia];return false;},renderComment:function(ia,ja){var ka=this.props,la=ka.feedback,ma=la.actorforpost===ia.author,na=t.getKeyForInstance(this.props.instanceid,'locallycomposed'),oa=ia.islocal||na&&na[ia.id],pa=la.showremovemenu||(la.viewerid===ia.author),qa=la.canremoveall&&la.isownerpage&&!ma,ra=ka.source!=r.UFIFeedbackSourceType.INTERN,sa=n.getTrackingInfo(n.types.COMMENT,ja),ta=!!ia.parentcommentid,ua=this._shouldShowCommentReplies(ia.id),va=!!ia.isfeatured;return (j.createElement(q,{comment:ia,authorProfiles:this.props.authorProfiles,viewerIsAuthor:ma,feedback:la,"data-ft":sa,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:qa,isLocallyComposed:oa,isReply:ta,isFeatured:va,permalink:ka.commentPermalinks[ia.id],shortenTimestamp:ka.shortenTimestamp,showPermalink:ra,showRemoveReportMenu:pa,showReplies:ua,focusOnMount:ia.id===this.state.commentIDToFocusOnMount,onCommentLikeToggle:ka.onCommentLikeToggle.bind(null,ia),onCommentReply:this.onCommentReply.bind(this,ia),onCommentTranslate:ka.onCommentTranslate.bind(null,ia),onEdit:ka.onCommentEdit.bind(null,ia),onHideAsSpam:ka.onCommentHideAsSpam.bind(null,ia),onInlineBan:ka.onCommentInlineBan.bind(null,ia),onMarkAsNotSpam:ka.onCommentMarkAsNotSpam.bind(null,ia),onPreviewRemove:ka.onPreviewRemove.bind(null,ia),onRemove:ka.onCommentRemove.bind(null,ia),onRetrySubmit:ka.onRetrySubmit.bind(null,ia),onUndoInlineBan:ka.onCommentUndoInlineBan.bind(null,ia),storyInsert:this.props.storyInsert}));},_updateRepliesState:function(ia,ja,ka){var la=this.state.instanceShowRepliesMap;la[ia]=ja;var ma=this.state.instanceShowReplySocialSentenceMap;ma[ia]=ka;this.setState({instanceShowRepliesMap:la,instanceShowReplySocialSentenceMap:ma,replyComposerIDToFocusOnMount:ja?'replycomposer-'+ia:null});},onToggleReplies:function(ia){var ja=!this._shouldShowCommentReplies(ia.id),ka=this.props.commentCounts[ia.id],la=this._shouldShowReplySocialSentence(ia.id)&&!(ja&&ka<=this.props.replySocialSentenceMaxReplies);this._updateRepliesState(ia.id,ja,la);var ma=this.props.ranges[ia.id].getRequestedLength();ma-=this.props.deletedCounts[ia.id];if(ja&&ma===0){var na=this.props.commentCounts[ia.id],oa=Math.min(na,this.props.pageSize);this.onPage(ia.id,ga.BOTTOM,{offset:na-oa,length:oa});}},onPage:function(ia,ja,ka){var la=this.state.hasPagedToplevel||ia===this.props.id,ma=ba({},this.state.isActiveLoading);ma[ia]=ja;this.setState({isActiveLoading:ma,hasPagedToplevel:la});this.props.onChangeRange(ia,ka);},isLoadingPrev:function(ia){var ja=this.props;ia=ia||ja.id;var ka=ja.ranges[ia].getRequestedOffset(),la=ja.ranges[ia].getOffset();return ka<la;},isLoadingNext:function(ia){var ja=this.props;ia=ia||ja.id;var ka=ja.ranges[ia].getRequestedOffset(),la=ja.ranges[ia].getRequestedLength(),ma=ja.ranges[ia].getOffset(),na=ja.ranges[ia].getLength();return ka+la>ma+na;},renderPagers:function(ia){var ja=this.props;ia=ia||ja.id;var ka=ja.ranges[ia].getOffset(),la=ja.ranges[ia].getLength(),ma=ja.deletedCounts[ia],na=ja.commentCounts[ia],oa=na-ma,pa=la-ma,qa=ja.contextArgs.numberdelimiter||',',ra=ia!==ja.id,sa={topPager:null,bottomPager:null};if(ja.source==r.UFIFeedbackSourceType.ADS)return sa;var ta=this.isLoadingPrev(ia),ua=this.isLoadingNext(ia);if(la==na)return sa;var va={},wa=ja.feedback.commentsentenceinfo;if(wa){va.commenters=wa.explicit_commenter_names;va.othersCount=i.formatIntegerWithDelimiter(wa.other_commenter_count,qa);}var xa=(ka+la)==na;if((na<ja.pageSize&&xa)||pa===0){var ya=Math.min(na,ja.pageSize),za=this.onPage.bind(this,ia,ja.feedback.isranked&&!ra?ga.BOTTOM:ga.TOP,{offset:na-ya,length:ya}),ab,bb;if(pa===0){if(oa==1){ab=w.VIEW_ONE;}else{bb=i.formatIntegerWithDelimiter(oa,qa);ab=w.VIEW_ALL;}}else if(oa-pa==1){ab=w.VIEW_ONE_MORE;}else{ab=w.VIEW_MORE_EXPLICIT;bb=i.formatIntegerWithDelimiter(oa-pa,qa);}var cb=n.getTrackingInfo(n.types.VIEW_ALL_COMMENTS);va.count=bb;var db=w.getLabel(ab,ra,ja.feedback.isqanda,va),eb=ja.feedback.isranked&&!ra,fb=j.createElement(v,{key:"allPager",ref:eb?"bottomPager":"topPager",contextArgs:ja.contextArgs,isUnseen:ja.feedback.hasunseencollapsed,isLoading:ta,pagerLabel:db,onPagerClick:za,"data-ft":cb});if(eb){sa.bottomPager=fb;}else sa.topPager=fb;return sa;}var gb=w.getLabel(w.VIEW_MORE,ra,ja.feedback.isqanda,va),hb=w.getLabel(w.VIEW_PREVIOUS,ra,ja.feedback.isqanda,va);if(ka>0){var ib=Math.max(ka-ja.pageSize,0),ya=ka+la-ib,jb=i.formatIntegerWithDelimiter(pa,qa),kb=i.formatIntegerWithDelimiter(oa,qa),lb=fa._("{countshown} of {totalcount}",[fa.param("countshown",jb),fa.param("totalcount",kb)]),mb;if(ja.feedback.isranked&&!ra){mb=this.onPage.bind(this,ia,ga.BOTTOM,{offset:ib,length:ya});sa.bottomPager=j.createElement(v,{key:"bottomPager",ref:"bottomPager",contextArgs:ja.contextArgs,isLoading:ta,pagerLabel:gb,onPagerClick:mb,countSentence:lb});}else{mb=this.onPage.bind(this,ia,ga.TOP,{offset:ib,length:ya});sa.topPager=j.createElement(v,{key:"topPager",ref:"topPager",contextArgs:ja.contextArgs,isLoading:ta,pagerLabel:hb,onPagerClick:mb,countSentence:lb});}}if(ka+la<na){var nb=Math.min(la+ja.pageSize,na-ka),ob;if(ja.feedback.isranked&&!ra){ob=this.onPage.bind(this,ia,ga.TOP,{offset:ka,length:nb});sa.topPager=j.createElement(v,{key:"topPager",ref:"topPager",contextArgs:ja.contextArgs,isLoading:ua,pagerLabel:hb,onPagerClick:ob});}else{ob=this.onPage.bind(this,ia,ga.BOTTOM,{offset:ka,length:nb});sa.bottomPager=j.createElement(v,{key:"bottomPager",ref:"bottomPager",contextArgs:ja.contextArgs,isLoading:ua,pagerLabel:gb,onPagerClick:ob});}}return sa;},loadMoreComments:function(){if(this.scrollSubscription&&this.refs.bottomPager&&!(this.props.id in this.state.isActiveLoading)){var ia=this.refs.bottomPager.getDOMNode(),ja=ca(window).y,ka=ja+document.documentElement.clientHeight+r.infiniteScrollRangeForQANDAPermalinks;if(ia.offsetHeight&&ia.offsetTop<ka)this.refs.bottomPager.props.onPagerClick();}},_scrollToAddComment:function(){if(this.refs.toplevelcomposer){var ia=this.refs.toplevelcomposer.getDOMNode(),ja=80,ka=ia.getBoundingClientRect().top;if(ka<ja||ka>aa.getViewportDimensions().y-ja)g.scrollTo(ia,true,false,ja);}},onCommentReply:function(ia){var ja=ia.parentcommentid||ia.id;if(this.props.feedback.isthreaded&&ia.cancomment){if(!this._shouldShowCommentReplies(ja)){this.onToggleReplies(ia);}else if(this.refs&&this.refs['replycomposer-'+ja])this.refs['replycomposer-'+ja].focus();}else if(this.props.contextArgs.simplereply&&ia.author&&this.refs.toplevelcomposer&&this.refs.toplevelcomposer.insertMention){var ka=this.props.authorProfiles[ia.author].type,la=new m({uniqueID:ia.author,title:this.props.authorProfiles[ia.author].name,type:ka==='friend'?'user':ka});this.refs.toplevelcomposer.insertMention(la);this._scrollToAddComment();}},onComment:function(){if(this.refs&&this.refs.toplevelcomposer){this.refs.toplevelcomposer.focus();var ia=this.refs.toplevelcomposer.getDOMNode(),ja=60;if(ia.getBoundingClientRect().top<ja)g.scrollTo(ia,true,true);}}});e.exports=ha;},null);
__d("BanzaiNectar",["Banzai"],function(a,b,c,d,e,f,g){function h(j){return {log:function(k,l,m){var n={e:l,a:m};g.post('nectar:'+k,n,j);}};}var i=h();i.create=h;e.exports=i;},null);
__d("extendArray",[],function(a,b,c,d,e,f){function g(h,i){Array.prototype.push.apply(h,i);return h;}e.exports=g;},null);
__d("PhotosMimeType",[],function(a,b,c,d,e,f){function g(h){"use strict";if(this instanceof g===false)return new g(h);this.$PhotosMimeType0=h.split('/');}g.prototype.isImage=function(){"use strict";return this.$PhotosMimeType0[0]==='image';};g.prototype.isJpeg=function(){"use strict";return this.isImage()&&(this.$PhotosMimeType0[1]==='jpeg'||this.$PhotosMimeType0[1]==='pjpeg');};e.exports=g;},null);
__d("DataTransfer",["PhotosMimeType","createArrayFromMixed","emptyFunction"],function(a,b,c,d,e,f,g,h,i){var j=new RegExp('\u000D\u000A','g'),k='\u000A',l={'text/rtf':1,'text/html':1};function m(o){if(o.kind=='file')return o.getAsFile();}function n(o){"use strict";this.data=o;this.types=o.types?h(o.types):[];}n.prototype.isRichText=function(){"use strict";return this.types.some(function(o){return l[o];});};n.prototype.getText=function(){"use strict";var o;if(this.data.getData)if(!this.types.length){o=this.data.getData('Text');}else if(this.types.indexOf('text/plain')!=-1)o=this.data.getData('text/plain');return o?o.replace(j,k):null;};n.prototype.getHTML=function(){"use strict";if(this.data.getData)if(!this.types.length){return this.data.getData('Text');}else if(this.types.indexOf('text/html')!=-1)return this.data.getData('text/html');};n.prototype.isLink=function(){"use strict";return this.types.some(function(o){return o.indexOf('url')!=-1||o.indexOf('text/uri-list')!=-1;});};n.prototype.isImage=function(){"use strict";var o=this.types.some(function(s){return s.indexOf('application/x-moz-file')!=-1;});if(o)return true;var p=this.getFiles();for(var q=0;q<p.length;q++){var r=p[q].type;if(!g(r).isImage())return false;}return true;};n.prototype.getCount=function(){"use strict";if(this.data.hasOwnProperty('items')){return this.data.items.length;}else if(this.data.hasOwnProperty('mozItemCount')){return this.data.mozItemCount;}else if(this.data.files)return this.data.files.length;return null;};n.prototype.getFiles=function(){"use strict";if(this.data.items){return Array.prototype.slice.call(this.data.items).map(m).filter(i.thatReturnsArgument);}else if(this.data.files){return Array.prototype.slice.call(this.data.files);}else return [];};n.prototype.hasFiles=function(){"use strict";return this.getFiles().length>0;};e.exports=n;},null);
__d("encodeEntityRanges",["DocumentStringKey","findRanges"],function(a,b,c,d,e,f,g,h){function i(j,k){var l=[];h(j,function(m){return typeof m=='string';},function(m,n){var o=j[m];l.push({offset:m,length:n-m,key:Number(k[g.stringify(o)])});});return l;}e.exports=i;},null);
__d("findRangesImmutable",[],function(a,b,c,d,e,f){function g(h,i,j){if(!h.size)return;var k=0;h.reduce(function(l,m,n){if(l!==m){if(i(l))j(k,n);k=n;}return m;});i(h.last())&&j(k,h.count());}e.exports=g;},null);
__d("TextEditorTextNode.react",["DOMPropertyOperations","ReactBrowserComponentMixin","ReactComponent","ReactElement","UserAgent_DEPRECATED","escapeTextForBrowser","getTextContentAccessor"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=k.ie()<=11,o=i.BackendIDOperations,p=m();function q(y){return n?y[p]==='\n':y.tagName==='BR';}function r(y){o.dangerouslyReplaceNodeWithMarkupByID(y,n?u(y):t(y));}function s(y,z){if(n){o.updateTextContentByID(y,z);}else o.dangerouslyReplaceNodeWithMarkupByID(y,v(y,z));}function t(y){return '<br '+g.createMarkupForID(y)+' />';}function u(y){return v(y,'\n');}function v(y,z){return ('<span '+g.createMarkupForID(y)+'>'+l(z)+'</span>');}var w=function(y){};Object.assign(w.prototype,i.Mixin);Object.assign(w.prototype,h);Object.assign(w.prototype,{mountComponent:function(y,z,aa){i.Mixin.mountComponent.call(this,y,z,aa);if(this.props==='')return (n?u(y):t(y));return v(y,this.props);},receiveComponent:function(y,z){var aa=this._rootNodeID,ba=y.props,ca=this.getDOMNode();if(q(ca)){if(ba!==''){this.props=ba;s(aa,ba);}return;}if(ba===''){this.props=ba;r(aa);return;}var da=this.getDOMNode()[p];if(ba!==da)o.updateTextContentByID(aa,ba);},type:w});var x=function(y){return new j(w,null,null,null,null,y);};x.type=w;e.exports=x;},null);
__d("getSafeBodyFromHTML",["UserAgent"],function(a,b,c,d,e,f,g){var h=g.isBrowser('IE <= 9');function i(j){var k,l=null;if(!h&&document.implementation&&document.implementation.createHTMLDocument){k=document.implementation.createHTMLDocument('foo');k.documentElement.innerHTML=j;l=k.getElementsByTagName('body')[0];}return l;}e.exports=i;},null);
__d("TypeaheadNavigation",[],function(a,b,c,d,e,f){var g={moveUp:function(h,i,j){var k=h.indexOf(i),l=k==-1?h.length-1:k-1;j(l==-1?null:h[l]);},moveDown:function(h,i,j){var k=h.indexOf(i)+1;j(k==h.length?null:h[k]);}};e.exports=g;},null);
__d("LitestandClassicPlaceHolders",["Arbiter"],function(a,b,c,d,e,f,g){var h={},i={register:function(j,k){h[j]=k;},destroy:function(j){var k=h[j];if(k){k.parentNode.removeChild(k);delete h[j];}},subscribeToDestroy:function(j){g.subscribe('feedAdsInvalidation/done',function(){this.destroy(j);}.bind(this));}};e.exports=i;},null);
__d("onEnclosingPageletDestroy",["Arbiter","DOMQuery"],function(a,b,c,d,e,f,g,h){function i(j,k){var l=g.subscribe('pagelet/destroy',function(m,n){if(h.contains(n.root,j)){l.unsubscribe();k();}});return l;}e.exports=i;},null);
__d("VideosRenderingInstrumentation",["DataStore"],function(a,b,c,d,e,f,g){var h={storeRenderTime:function(i){var j=Date.now();g.set(i,'videos_rendering_instrumentation',j);return j;},retrieveRenderTime:function(i){var j=g.get(i,'videos_rendering_instrumentation',NaN);if(Number.isNaN(j))j=h.storeRenderTime(i);return j;}};e.exports=h;},null);